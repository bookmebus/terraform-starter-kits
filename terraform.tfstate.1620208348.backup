{
  "version": 4,
  "terraform_version": "0.13.0",
  "serial": 2162,
  "lineage": "0ab3ba29-f543-907b-504e-d10a916665ad",
  "outputs": {
    "account": {
      "value": {
        "account_id": "611922433325",
        "caller_arn": "arn:aws:iam::611922433325:user/Deployer",
        "caller_user": "AIDAY46LLKUWRFVQD5CFY"
      },
      "type": [
        "object",
        {
          "account_id": "string",
          "caller_arn": "string",
          "caller_user": "string"
        }
      ]
    },
    "alb_target_group_arn": {
      "value": "arn:aws:elasticloadbalancing:ap-southeast-1:611922433325:targetgroup/VTENH-fargate/a7147d581f76575a",
      "type": "string"
    },
    "ecr": {
      "value": {
        "repository_url": "611922433325.dkr.ecr.ap-southeast-1.amazonaws.com/vtenh"
      },
      "type": [
        "object",
        {
          "repository_url": "string"
        }
      ]
    },
    "fargate_lb": {
      "value": {
        "cluster_id": "arn:aws:ecs:ap-southeast-1:611922433325:cluster/VTENH-fargate",
        "cluster_name": "VTENH-fargate",
        "lb_dns_name": "VTENH-fargate-1423880122.ap-southeast-1.elb.amazonaws.com",
        "lb_zone_id": "Z1LMS91P8CMLE5",
        "service_name": "VTENH-fargate"
      },
      "type": [
        "object",
        {
          "cluster_id": "string",
          "cluster_name": "string",
          "lb_dns_name": "string",
          "lb_zone_id": "string",
          "service_name": "string"
        }
      ]
    },
    "local_exec_migration": {
      "value": "aws ecs run-task \\\n  --cluster VTENH-fargate \\\n  --task-definition 'arn:aws:ecs:ap-southeast-1:611922433325:task-definition/ECS-Migration:59' \\\n  --launch-type FARGATE \\\n  --profile vtenh \\\n  --region ap-southeast-1 \\\n  --network-configuration '{\"awsvpcConfiguration\":{\"securityGroups\":[\"sg-0b8f764c7f3bf5570\"],\"subnets\":[\"subnet-0537278cba0fe9a9b\",\"subnet-0b390072549da094e\",\"subnet-07f858c291d262ae0\"]}}'\n",
      "type": "string"
    },
    "memcached": {
      "value": {
        "cluster_address": "memcached.4yy17c.cfg.apse1.cache.amazonaws.com",
        "configuration_endpoint": "memcached.4yy17c.cfg.apse1.cache.amazonaws.com:11211"
      },
      "type": [
        "object",
        {
          "cluster_address": "string",
          "configuration_endpoint": "string"
        }
      ]
    },
    "rds": {
      "value": {
        "postgresql": {
          "address": "db-postgresql.cwavjegnholw.ap-southeast-1.rds.amazonaws.com",
          "engine_version": "12.4",
          "postgresql_engine_versions": [
            "12.5"
          ]
        }
      },
      "type": [
        "object",
        {
          "postgresql": [
            "object",
            {
              "address": "string",
              "engine_version": "string",
              "postgresql_engine_versions": [
                "tuple",
                [
                  "string"
                ]
              ]
            }
          ]
        }
      ]
    },
    "redis": {
      "value": {
        "address": "redis.4yy17c.0001.apse1.cache.amazonaws.com",
        "port": 6379,
        "url": "redis://redis.4yy17c.0001.apse1.cache.amazonaws.com:6379/1"
      },
      "type": [
        "object",
        {
          "address": "string",
          "port": "number",
          "url": "string"
        }
      ]
    },
    "route53_dns": {
      "value": {
        "non_www_fqdn": "vtenh.com",
        "non_www_name": "",
        "www_fqdn": "www.vtenh.com",
        "www_name": "www"
      },
      "type": [
        "object",
        {
          "non_www_fqdn": "string",
          "non_www_name": "string",
          "www_fqdn": "string",
          "www_name": "string"
        }
      ]
    },
    "sg": {
      "value": {
        "bastion": "sg-05766d1a5ac538baf",
        "ecs": "sg-0b8f764c7f3bf5570",
        "load_balancer": "sg-0a378cac22e6e0e56",
        "memcached": "sg-0c511bc774dd93ad9",
        "mysql": "sg-0865cef9fdb508368",
        "postgresql": "sg-089d9e2f601639325",
        "redis": "sg-0116e7ae4cad864c7",
        "webserver": "sg-011936ec6b19c67fd"
      },
      "type": [
        "object",
        {
          "bastion": "string",
          "ecs": "string",
          "load_balancer": "string",
          "memcached": "string",
          "mysql": "string",
          "postgresql": "string",
          "redis": "string",
          "webserver": "string"
        }
      ]
    },
    "vpc": {
      "value": {
        "az_names": [
          "ap-southeast-1a",
          "ap-southeast-1b",
          "ap-southeast-1c"
        ],
        "cidr": "192.168.0.0/16",
        "id": "vpc-0648f6ee3beb5d737",
        "private_subnet_ids": [
          "subnet-0aea1f2e169b9f30c",
          "subnet-022f6d81a2f575246",
          "subnet-00d27e777eecc58cf"
        ],
        "public_subnet_ids": [
          "subnet-0537278cba0fe9a9b",
          "subnet-0b390072549da094e",
          "subnet-07f858c291d262ae0"
        ]
      },
      "type": [
        "object",
        {
          "az_names": [
            "list",
            "string"
          ],
          "cidr": "string",
          "id": "string",
          "private_subnet_ids": [
            "tuple",
            [
              "string",
              "string",
              "string"
            ]
          ],
          "public_subnet_ids": [
            "tuple",
            [
              "string",
              "string",
              "string"
            ]
          ]
        }
      ]
    }
  },
  "resources": [
    {
      "module": "module.vpc",
      "mode": "data",
      "type": "aws_availability_zones",
      "name": "available",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "all_availability_zones": null,
            "exclude_names": null,
            "exclude_zone_ids": null,
            "filter": null,
            "group_names": [
              "ap-southeast-1"
            ],
            "id": "ap-southeast-1",
            "names": [
              "ap-southeast-1a",
              "ap-southeast-1b",
              "ap-southeast-1c"
            ],
            "state": "available",
            "zone_ids": [
              "apse1-az2",
              "apse1-az1",
              "apse1-az3"
            ]
          }
        }
      ]
    },
    {
      "mode": "data",
      "type": "aws_caller_identity",
      "name": "current",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "account_id": "611922433325",
            "arn": "arn:aws:iam::611922433325:user/Deployer",
            "id": "611922433325",
            "user_id": "AIDAY46LLKUWRFVQD5CFY"
          }
        }
      ]
    },
    {
      "module": "module.rds",
      "mode": "data",
      "type": "aws_rds_engine_version",
      "name": "postgresql",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "default_character_set": null,
            "engine": "postgres",
            "engine_description": "PostgreSQL",
            "exportable_log_types": [
              "postgresql",
              "upgrade"
            ],
            "id": "12.5",
            "parameter_group_family": "postgres12",
            "preferred_versions": null,
            "status": "available",
            "supported_character_sets": [],
            "supported_feature_names": [
              "s3Export",
              "s3Import"
            ],
            "supported_modes": [],
            "supported_timezones": [],
            "supports_global_databases": false,
            "supports_log_exports_to_cloudwatch": true,
            "supports_parallel_query": false,
            "supports_read_replica": true,
            "valid_upgrade_targets": [
              "12.6",
              "13.1",
              "13.2"
            ],
            "version": "12.5",
            "version_description": "PostgreSQL 12.5-R1"
          }
        }
      ]
    },
    {
      "module": "module.route53",
      "mode": "data",
      "type": "aws_route53_zone",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "caller_reference": "c0c721c4-5b1e-4f85-aa26-21ea54d4afb6",
            "comment": "Namecheap",
            "id": "Z0466585W0RRHX2L48OH",
            "linked_service_description": null,
            "linked_service_principal": null,
            "name": "vtenh.com",
            "name_servers": [
              "ns-1602.awsdns-08.co.uk",
              "ns-1430.awsdns-50.org",
              "ns-568.awsdns-07.net",
              "ns-159.awsdns-19.com"
            ],
            "private_zone": false,
            "resource_record_set_count": 13,
            "tags": {},
            "vpc_id": null,
            "zone_id": "Z0466585W0RRHX2L48OH"
          }
        }
      ]
    },
    {
      "mode": "data",
      "type": "template_file",
      "name": "db_migration",
      "provider": "provider[\"registry.terraform.io/hashicorp/template\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "filename": null,
            "id": "444c0e28735974296f9611552dd6a851822fd05e0dc9247202261450ef962f97",
            "rendered": "[\n  {\n    \"command\": [ \"/tmp/custom_script/task.sh\" ],\n    \"name\": \"VTENH-db-migration\",\n    \"image\": \"611922433325.dkr.ecr.ap-southeast-1.amazonaws.com/vtenh\",\n    \"cpu\": 512,\n    \"memory\": 1024,\n    \"portMappings\": [\n      {\n        \"containerPort\": 80,\n        \"protocol\": \"tcp\"\n      },\n      {\n        \"containerPort\": 22,\n        \"protocol\": \"tcp\"\n      }\n    ],\n    \"secrets\": [\n      {\n        \"name\": \"SSH_PUBLIC_KEY\",\n        \"valueFrom\": \"arn:aws:ssm:ap-southeast-1:611922433325:parameter/ssh_public_key\"\n      }\n    ],\n    \"environment\": [\n      {\"name\": \"ACTIVE_STORAGE_CDN\", \"value\": \"https://assets-cdn.vtenh.com\"},\n      {\"name\": \"APP_NAME\", \"value\": \"VTENH\"},\n      {\"name\": \"ASSET_HOST_URL\", \"value\": \"https://assets-cdn.vtenh.com\"},\n      {\"name\": \"AWS_BUCKET_NAME\", \"value\": \"vtenh\"},\n      {\"name\": \"AWS_REGION\", \"value\": \"ap-southeast-1\"},\n      {\"name\": \"DEFAULT_EMAIL_FOR_PAYMENT\", \"value\": \"info+aba@vtenh.com\"},\n      {\"name\": \"DEVISE_SECRET_KEY\", \"value\": \"e0f35eaaf8c617c5fd5ee18124ec640eb84273f5f72c12af00db89e4cf01244d66ce206a72356f78d14301552b587af07d59\"},\n      {\"name\": \"ELASTICSEARCH_URL\", \"value\": \"https://elastic:7uTSwzJ8exuKdk3TNGtPIOXR@memory-optimized-deployment.es.ap-southeast-1.aws.found.io:9243\"},\n      {\"name\": \"EXCEPTION_NOTIFY_ENABLE\", \"value\": \"yes\"},\n      {\"name\": \"EXCEPTION_SLACK_WEBHOOK_URL\", \"value\": \"https://hooks.slack.com/services/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\"},\n      {\"name\": \"EXCEPTION_CHANNEL_ID\", \"value\": \"#production-exceptions\"},\n      {\"name\": \"FB_APP_ID\", \"value\": \"381496249527504\"},\n      {\"name\": \"FIREBASE_PROJECT_ID\", \"value\": \"vtenh-46ed3\"},\n      {\"name\": \"DEFAULT_URL_HOST\", \"value\": \"https://www.vtenh.com\"},\n      {\"name\": \"GOOGLE_TAG_MANAGER\", \"value\": \"GTM-5D7SNTB\"},\n\n      {\"name\": \"MEMCACHE_SERVERS\", \"value\": \"memcached.4yy17c.cfg.apse1.cache.amazonaws.com:11211\"},\n      {\"name\": \"MODE_ENV\", \"value\": \"task\"},\n      {\"name\": \"RAILS_TASK_NAME\", \"value\": \"db:migrate\"},\n      {\"name\": \"PROTECTED_USERNAME\", \"value\": \"\"},\n      {\"name\": \"PROTECTED_PASSWORD\", \"value\": \"\"},\n      {\"name\": \"RAILS_ENV\", \"value\": \"production\"},\n      {\"name\": \"RAILS_LOG_TO_STDOUT\", \"value\": \"1\"},\n      {\"name\": \"RAILS_MASTER_KEY\", \"value\": \"327385331c545d6f54f090ccec015e9d\"},\n      {\"name\": \"RAILS_MIN_INSTANCES\", \"value\": \"6\"},\n      {\"name\": \"RAILS_MAX_INSTANCES\", \"value\": \"8\"},\n      {\"name\": \"RAILS_MAX_THREADS\", \"value\": \"5\"},\n      {\"name\": \"REDIS_URL\", \"value\": \"redis://redis.4yy17c.0001.apse1.cache.amazonaws.com:6379/1\"},\n      {\"name\": \"SHOW_TOPBAR\", \"value\": \"yes\"},\n      {\"name\": \"SIDEKIQ_USERNAME\", \"value\": \"admin_queue\"},\n      {\"name\": \"SIDEKIQ_PASSWORD\", \"value\": \"admin_queue@vtenh0102\"},\n      {\"name\": \"SMS_SENDER_ID\", \"value\": \"VTenh\"},\n      {\"name\": \"SMTP_SERVER\", \"value\": \"smtp.sendgrid.net\"},\n      {\"name\": \"SMTP_USERNAME\", \"value\": \"apikey\"},\n      {\"name\": \"SMTP_PASSWORD\", \"value\": \"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\"},\n      {\"name\": \"TIME_ZONE\", \"value\": \"Bangkok\"},\n      {\"name\": \"VSHOP_DB_HOST\", \"value\": \"db-postgresql.cwavjegnholw.ap-southeast-1.rds.amazonaws.com\"},\n      {\"name\": \"VSHOP_DB_NAME\", \"value\": \"vtenh\"},\n      {\"name\": \"VSHOP_DB_NAME_PRODUCTION\", \"value\": \"vtenh\"},\n      {\"name\": \"VSHOP_DB_USER\", \"value\": \"vtenh\"},\n      {\"name\": \"VSHOP_DB_PASSWORD\", \"value\": \"vtenh9ZOZI\"},\n      {\"name\": \"TOUCH_REDEPLOY\", \"value\": \"2022-05-04 22:25:00\"}\n    ],\n    \"logConfiguration\": {\n      \"logDriver\": \"awslogs\",\n      \"options\": {\n        \"awslogs-create-group\": \"true\",\n        \"awslogs-group\": \"/ecs/migration20210119150713572800000002\",\n        \"awslogs-region\": \"ap-southeast-1\",\n        \"awslogs-stream-prefix\": \"ecs\"\n      }\n    }\n  }\n]\n",
            "template": "[\n  {\n    ${custom_command}\n    \"name\": \"${container_name}\",\n    \"image\": \"${docker_image_url}\",\n    \"cpu\": ${container_cpu},\n    \"memory\": ${container_memory},\n    \"portMappings\": [\n      {\n        \"containerPort\": ${container_port},\n        \"protocol\": \"tcp\"\n      },\n      {\n        \"containerPort\": 22,\n        \"protocol\": \"tcp\"\n      }\n    ],\n    \"secrets\": [\n      {\n        \"name\": \"SSH_PUBLIC_KEY\",\n        \"valueFrom\": \"${ssh_public_key_arn}\"\n      }\n    ],\n    \"environment\": [\n      {\"name\": \"ACTIVE_STORAGE_CDN\", \"value\": \"${active_storage_cdn}\"},\n      {\"name\": \"APP_NAME\", \"value\": \"${app_name}\"},\n      {\"name\": \"ASSET_HOST_URL\", \"value\": \"${asset_host_url}\"},\n      {\"name\": \"AWS_BUCKET_NAME\", \"value\": \"${bucket_Name}\"},\n      {\"name\": \"AWS_REGION\", \"value\": \"${region}\"},\n      {\"name\": \"DEFAULT_EMAIL_FOR_PAYMENT\", \"value\": \"${default_email_for_payment}\"},\n      {\"name\": \"DEVISE_SECRET_KEY\", \"value\": \"${device_secret_key}\"},\n      {\"name\": \"ELASTICSEARCH_URL\", \"value\": \"${es_url}\"},\n      {\"name\": \"EXCEPTION_NOTIFY_ENABLE\", \"value\": \"${exception_notification_enable}\"},\n      {\"name\": \"EXCEPTION_SLACK_WEBHOOK_URL\", \"value\": \"${exception_slack_webhook_url}\"},\n      {\"name\": \"EXCEPTION_CHANNEL_ID\", \"value\": \"${exception_channel_id}\"},\n      {\"name\": \"FB_APP_ID\", \"value\": \"${fb_app_id}\"},\n      {\"name\": \"FIREBASE_PROJECT_ID\", \"value\": \"${firebase_project_id}\"},\n      {\"name\": \"DEFAULT_URL_HOST\", \"value\": \"${host}\"},\n      {\"name\": \"GOOGLE_TAG_MANAGER\", \"value\": \"${google_tag_manager}\"},\n\n      {\"name\": \"MEMCACHE_SERVERS\", \"value\": \"${memcached_servers}\"},\n      {\"name\": \"MODE_ENV\", \"value\": \"${app_mode}\"},\n      {\"name\": \"RAILS_TASK_NAME\", \"value\": \"${rails_task_name}\"},\n      {\"name\": \"PROTECTED_USERNAME\", \"value\": \"${protected_username}\"},\n      {\"name\": \"PROTECTED_PASSWORD\", \"value\": \"${protected_password}\"},\n      {\"name\": \"RAILS_ENV\", \"value\": \"production\"},\n      {\"name\": \"RAILS_LOG_TO_STDOUT\", \"value\": \"1\"},\n      {\"name\": \"RAILS_MASTER_KEY\", \"value\": \"${rails_master_key}\"},\n      {\"name\": \"RAILS_MIN_INSTANCES\", \"value\": \"${rails_min_instances}\"},\n      {\"name\": \"RAILS_MAX_INSTANCES\", \"value\": \"${rails_max_instance}\"},\n      {\"name\": \"RAILS_MAX_THREADS\", \"value\": \"${rails_max_threads}\"},\n      {\"name\": \"REDIS_URL\", \"value\": \"${redis_url}\"},\n      {\"name\": \"SHOW_TOPBAR\", \"value\": \"${show_topbar}\"},\n      {\"name\": \"SIDEKIQ_USERNAME\", \"value\": \"${sidekiq_username}\"},\n      {\"name\": \"SIDEKIQ_PASSWORD\", \"value\": \"${sidekiq_password}\"},\n      {\"name\": \"SMS_SENDER_ID\", \"value\": \"${sms_sender_id}\"},\n      {\"name\": \"SMTP_SERVER\", \"value\": \"${smtp_server}\"},\n      {\"name\": \"SMTP_USERNAME\", \"value\": \"${smtp_username}\"},\n      {\"name\": \"SMTP_PASSWORD\", \"value\": \"${smtp_password}\"},\n      {\"name\": \"TIME_ZONE\", \"value\": \"${time_zone}\"},\n      {\"name\": \"VSHOP_DB_HOST\", \"value\": \"${rds_db_host}\"},\n      {\"name\": \"VSHOP_DB_NAME\", \"value\": \"${rds_db_name}\"},\n      {\"name\": \"VSHOP_DB_NAME_PRODUCTION\", \"value\": \"${rds_db_name}\"},\n      {\"name\": \"VSHOP_DB_USER\", \"value\": \"${rds_db_user}\"},\n      {\"name\": \"VSHOP_DB_PASSWORD\", \"value\": \"${rds_db_password}\"},\n      {\"name\": \"TOUCH_REDEPLOY\", \"value\": \"${touch_redeploy}\"}\n    ],\n    \"logConfiguration\": {\n      \"logDriver\": \"awslogs\",\n      \"options\": {\n        \"awslogs-create-group\": \"true\",\n        \"awslogs-group\": \"${log_group_name}\",\n        \"awslogs-region\": \"${region}\",\n        \"awslogs-stream-prefix\": \"ecs\"\n      }\n    }\n  }\n]\n",
            "vars": {
              "active_storage_cdn": "https://assets-cdn.vtenh.com",
              "app_mode": "task",
              "app_name": "VTENH",
              "asset_host_url": "https://assets-cdn.vtenh.com",
              "bucket_Name": "vtenh",
              "container_cpu": "512",
              "container_memory": "1024",
              "container_name": "VTENH-db-migration",
              "container_port": "80",
              "custom_command": "\"command\": [ \"/tmp/custom_script/task.sh\" ],",
              "default_email_for_payment": "info+aba@vtenh.com",
              "device_secret_key": "e0f35eaaf8c617c5fd5ee18124ec640eb84273f5f72c12af00db89e4cf01244d66ce206a72356f78d14301552b587af07d59",
              "docker_image_url": "611922433325.dkr.ecr.ap-southeast-1.amazonaws.com/vtenh",
              "es_url": "https://elastic:7uTSwzJ8exuKdk3TNGtPIOXR@memory-optimized-deployment.es.ap-southeast-1.aws.found.io:9243",
              "exception_channel_id": "#production-exceptions",
              "exception_notification_enable": "yes",
              "exception_slack_webhook_url": "https://hooks.slack.com/services/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",
              "fb_app_id": "381496249527504",
              "firebase_project_id": "vtenh-46ed3",
              "google_tag_manager": "GTM-5D7SNTB",
              "host": "https://www.vtenh.com",
              "log_group_name": "/ecs/migration20210119150713572800000002",
              "memcached_servers": "memcached.4yy17c.cfg.apse1.cache.amazonaws.com:11211",
              "protected_password": "",
              "protected_username": "",
              "rails_master_key": "327385331c545d6f54f090ccec015e9d",
              "rails_max_instance": "8",
              "rails_max_threads": "5",
              "rails_min_instances": "6",
              "rails_task_name": "db:migrate",
              "rds_db_host": "db-postgresql.cwavjegnholw.ap-southeast-1.rds.amazonaws.com",
              "rds_db_name": "vtenh",
              "rds_db_password": "vtenh9ZOZI",
              "rds_db_user": "vtenh",
              "redis_url": "redis://redis.4yy17c.0001.apse1.cache.amazonaws.com:6379/1",
              "region": "ap-southeast-1",
              "show_topbar": "yes",
              "sidekiq_password": "admin_queue@vtenh0102",
              "sidekiq_username": "admin_queue",
              "sms_sender_id": "VTenh",
              "smtp_password": "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",
              "smtp_server": "smtp.sendgrid.net",
              "smtp_username": "apikey",
              "ssh_public_key_arn": "arn:aws:ssm:ap-southeast-1:611922433325:parameter/ssh_public_key",
              "time_zone": "Bangkok",
              "touch_redeploy": "2022-05-04 22:25:00"
            }
          }
        }
      ]
    },
    {
      "mode": "data",
      "type": "template_file",
      "name": "ecs_fargate",
      "provider": "provider[\"registry.terraform.io/hashicorp/template\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "filename": null,
            "id": "fa4f0925eb603cf90f593ea3ff685382f5e5eb9688c9750111e6be2f9a6c79f7",
            "rendered": "[\n  {\n    \n    \"name\": \"VTENH-fargate\",\n    \"image\": \"611922433325.dkr.ecr.ap-southeast-1.amazonaws.com/vtenh\",\n    \"cpu\": 1024,\n    \"memory\": 2048,\n    \"portMappings\": [\n      {\n        \"containerPort\": 80,\n        \"protocol\": \"tcp\"\n      },\n      {\n        \"containerPort\": 22,\n        \"protocol\": \"tcp\"\n      }\n    ],\n    \"secrets\": [\n      {\n        \"name\": \"SSH_PUBLIC_KEY\",\n        \"valueFrom\": \"arn:aws:ssm:ap-southeast-1:611922433325:parameter/ssh_public_key\"\n      }\n    ],\n    \"environment\": [\n      {\"name\": \"ACTIVE_STORAGE_CDN\", \"value\": \"https://assets-cdn.vtenh.com\"},\n      {\"name\": \"APP_NAME\", \"value\": \"VTENH\"},\n      {\"name\": \"ASSET_HOST_URL\", \"value\": \"https://assets-cdn.vtenh.com\"},\n      {\"name\": \"AWS_BUCKET_NAME\", \"value\": \"vtenh\"},\n      {\"name\": \"AWS_REGION\", \"value\": \"ap-southeast-1\"},\n      {\"name\": \"DEFAULT_EMAIL_FOR_PAYMENT\", \"value\": \"info+aba@vtenh.com\"},\n      {\"name\": \"DEVISE_SECRET_KEY\", \"value\": \"e0f35eaaf8c617c5fd5ee18124ec640eb84273f5f72c12af00db89e4cf01244d66ce206a72356f78d14301552b587af07d59\"},\n      {\"name\": \"ELASTICSEARCH_URL\", \"value\": \"https://elastic:7uTSwzJ8exuKdk3TNGtPIOXR@memory-optimized-deployment.es.ap-southeast-1.aws.found.io:9243\"},\n      {\"name\": \"EXCEPTION_NOTIFY_ENABLE\", \"value\": \"yes\"},\n      {\"name\": \"EXCEPTION_SLACK_WEBHOOK_URL\", \"value\": \"https://hooks.slack.com/services/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\"},\n      {\"name\": \"EXCEPTION_CHANNEL_ID\", \"value\": \"#production-exceptions\"},\n      {\"name\": \"FB_APP_ID\", \"value\": \"381496249527504\"},\n      {\"name\": \"FIREBASE_PROJECT_ID\", \"value\": \"vtenh-46ed3\"},\n      {\"name\": \"DEFAULT_URL_HOST\", \"value\": \"https://www.vtenh.com\"},\n      {\"name\": \"GOOGLE_TAG_MANAGER\", \"value\": \"GTM-5D7SNTB\"},\n\n      {\"name\": \"MEMCACHE_SERVERS\", \"value\": \"memcached.4yy17c.cfg.apse1.cache.amazonaws.com:11211\"},\n      {\"name\": \"MODE_ENV\", \"value\": \"web\"},\n      {\"name\": \"RAILS_TASK_NAME\", \"value\": \"\"},\n      {\"name\": \"PROTECTED_USERNAME\", \"value\": \"\"},\n      {\"name\": \"PROTECTED_PASSWORD\", \"value\": \"\"},\n      {\"name\": \"RAILS_ENV\", \"value\": \"production\"},\n      {\"name\": \"RAILS_LOG_TO_STDOUT\", \"value\": \"1\"},\n      {\"name\": \"RAILS_MASTER_KEY\", \"value\": \"327385331c545d6f54f090ccec015e9d\"},\n      {\"name\": \"RAILS_MIN_INSTANCES\", \"value\": \"6\"},\n      {\"name\": \"RAILS_MAX_INSTANCES\", \"value\": \"8\"},\n      {\"name\": \"RAILS_MAX_THREADS\", \"value\": \"5\"},\n      {\"name\": \"REDIS_URL\", \"value\": \"redis://redis.4yy17c.0001.apse1.cache.amazonaws.com:6379/1\"},\n      {\"name\": \"SHOW_TOPBAR\", \"value\": \"yes\"},\n      {\"name\": \"SIDEKIQ_USERNAME\", \"value\": \"admin_queue\"},\n      {\"name\": \"SIDEKIQ_PASSWORD\", \"value\": \"admin_queue@vtenh0102\"},\n      {\"name\": \"SMS_SENDER_ID\", \"value\": \"VTenh\"},\n      {\"name\": \"SMTP_SERVER\", \"value\": \"smtp.sendgrid.net\"},\n      {\"name\": \"SMTP_USERNAME\", \"value\": \"apikey\"},\n      {\"name\": \"SMTP_PASSWORD\", \"value\": \"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\"},\n      {\"name\": \"TIME_ZONE\", \"value\": \"Bangkok\"},\n      {\"name\": \"VSHOP_DB_HOST\", \"value\": \"db-postgresql.cwavjegnholw.ap-southeast-1.rds.amazonaws.com\"},\n      {\"name\": \"VSHOP_DB_NAME\", \"value\": \"vtenh\"},\n      {\"name\": \"VSHOP_DB_NAME_PRODUCTION\", \"value\": \"vtenh\"},\n      {\"name\": \"VSHOP_DB_USER\", \"value\": \"vtenh\"},\n      {\"name\": \"VSHOP_DB_PASSWORD\", \"value\": \"vtenh9ZOZI\"},\n      {\"name\": \"TOUCH_REDEPLOY\", \"value\": \"2022-05-04 22:25:00\"}\n    ],\n    \"logConfiguration\": {\n      \"logDriver\": \"awslogs\",\n      \"options\": {\n        \"awslogs-create-group\": \"true\",\n        \"awslogs-group\": \"/ecs/vtenh-web\",\n        \"awslogs-region\": \"ap-southeast-1\",\n        \"awslogs-stream-prefix\": \"ecs\"\n      }\n    }\n  }\n]\n",
            "template": "[\n  {\n    ${custom_command}\n    \"name\": \"${container_name}\",\n    \"image\": \"${docker_image_url}\",\n    \"cpu\": ${container_cpu},\n    \"memory\": ${container_memory},\n    \"portMappings\": [\n      {\n        \"containerPort\": ${container_port},\n        \"protocol\": \"tcp\"\n      },\n      {\n        \"containerPort\": 22,\n        \"protocol\": \"tcp\"\n      }\n    ],\n    \"secrets\": [\n      {\n        \"name\": \"SSH_PUBLIC_KEY\",\n        \"valueFrom\": \"${ssh_public_key_arn}\"\n      }\n    ],\n    \"environment\": [\n      {\"name\": \"ACTIVE_STORAGE_CDN\", \"value\": \"${active_storage_cdn}\"},\n      {\"name\": \"APP_NAME\", \"value\": \"${app_name}\"},\n      {\"name\": \"ASSET_HOST_URL\", \"value\": \"${asset_host_url}\"},\n      {\"name\": \"AWS_BUCKET_NAME\", \"value\": \"${bucket_Name}\"},\n      {\"name\": \"AWS_REGION\", \"value\": \"${region}\"},\n      {\"name\": \"DEFAULT_EMAIL_FOR_PAYMENT\", \"value\": \"${default_email_for_payment}\"},\n      {\"name\": \"DEVISE_SECRET_KEY\", \"value\": \"${device_secret_key}\"},\n      {\"name\": \"ELASTICSEARCH_URL\", \"value\": \"${es_url}\"},\n      {\"name\": \"EXCEPTION_NOTIFY_ENABLE\", \"value\": \"${exception_notification_enable}\"},\n      {\"name\": \"EXCEPTION_SLACK_WEBHOOK_URL\", \"value\": \"${exception_slack_webhook_url}\"},\n      {\"name\": \"EXCEPTION_CHANNEL_ID\", \"value\": \"${exception_channel_id}\"},\n      {\"name\": \"FB_APP_ID\", \"value\": \"${fb_app_id}\"},\n      {\"name\": \"FIREBASE_PROJECT_ID\", \"value\": \"${firebase_project_id}\"},\n      {\"name\": \"DEFAULT_URL_HOST\", \"value\": \"${host}\"},\n      {\"name\": \"GOOGLE_TAG_MANAGER\", \"value\": \"${google_tag_manager}\"},\n\n      {\"name\": \"MEMCACHE_SERVERS\", \"value\": \"${memcached_servers}\"},\n      {\"name\": \"MODE_ENV\", \"value\": \"${app_mode}\"},\n      {\"name\": \"RAILS_TASK_NAME\", \"value\": \"${rails_task_name}\"},\n      {\"name\": \"PROTECTED_USERNAME\", \"value\": \"${protected_username}\"},\n      {\"name\": \"PROTECTED_PASSWORD\", \"value\": \"${protected_password}\"},\n      {\"name\": \"RAILS_ENV\", \"value\": \"production\"},\n      {\"name\": \"RAILS_LOG_TO_STDOUT\", \"value\": \"1\"},\n      {\"name\": \"RAILS_MASTER_KEY\", \"value\": \"${rails_master_key}\"},\n      {\"name\": \"RAILS_MIN_INSTANCES\", \"value\": \"${rails_min_instances}\"},\n      {\"name\": \"RAILS_MAX_INSTANCES\", \"value\": \"${rails_max_instance}\"},\n      {\"name\": \"RAILS_MAX_THREADS\", \"value\": \"${rails_max_threads}\"},\n      {\"name\": \"REDIS_URL\", \"value\": \"${redis_url}\"},\n      {\"name\": \"SHOW_TOPBAR\", \"value\": \"${show_topbar}\"},\n      {\"name\": \"SIDEKIQ_USERNAME\", \"value\": \"${sidekiq_username}\"},\n      {\"name\": \"SIDEKIQ_PASSWORD\", \"value\": \"${sidekiq_password}\"},\n      {\"name\": \"SMS_SENDER_ID\", \"value\": \"${sms_sender_id}\"},\n      {\"name\": \"SMTP_SERVER\", \"value\": \"${smtp_server}\"},\n      {\"name\": \"SMTP_USERNAME\", \"value\": \"${smtp_username}\"},\n      {\"name\": \"SMTP_PASSWORD\", \"value\": \"${smtp_password}\"},\n      {\"name\": \"TIME_ZONE\", \"value\": \"${time_zone}\"},\n      {\"name\": \"VSHOP_DB_HOST\", \"value\": \"${rds_db_host}\"},\n      {\"name\": \"VSHOP_DB_NAME\", \"value\": \"${rds_db_name}\"},\n      {\"name\": \"VSHOP_DB_NAME_PRODUCTION\", \"value\": \"${rds_db_name}\"},\n      {\"name\": \"VSHOP_DB_USER\", \"value\": \"${rds_db_user}\"},\n      {\"name\": \"VSHOP_DB_PASSWORD\", \"value\": \"${rds_db_password}\"},\n      {\"name\": \"TOUCH_REDEPLOY\", \"value\": \"${touch_redeploy}\"}\n    ],\n    \"logConfiguration\": {\n      \"logDriver\": \"awslogs\",\n      \"options\": {\n        \"awslogs-create-group\": \"true\",\n        \"awslogs-group\": \"${log_group_name}\",\n        \"awslogs-region\": \"${region}\",\n        \"awslogs-stream-prefix\": \"ecs\"\n      }\n    }\n  }\n]\n",
            "vars": {
              "active_storage_cdn": "https://assets-cdn.vtenh.com",
              "app_mode": "web",
              "app_name": "VTENH",
              "asset_host_url": "https://assets-cdn.vtenh.com",
              "bucket_Name": "vtenh",
              "container_cpu": "1024",
              "container_memory": "2048",
              "container_name": "VTENH-fargate",
              "container_port": "80",
              "custom_command": "",
              "default_email_for_payment": "info+aba@vtenh.com",
              "device_secret_key": "e0f35eaaf8c617c5fd5ee18124ec640eb84273f5f72c12af00db89e4cf01244d66ce206a72356f78d14301552b587af07d59",
              "docker_image_url": "611922433325.dkr.ecr.ap-southeast-1.amazonaws.com/vtenh",
              "es_url": "https://elastic:7uTSwzJ8exuKdk3TNGtPIOXR@memory-optimized-deployment.es.ap-southeast-1.aws.found.io:9243",
              "exception_channel_id": "#production-exceptions",
              "exception_notification_enable": "yes",
              "exception_slack_webhook_url": "https://hooks.slack.com/services/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",
              "fb_app_id": "381496249527504",
              "firebase_project_id": "vtenh-46ed3",
              "google_tag_manager": "GTM-5D7SNTB",
              "host": "https://www.vtenh.com",
              "log_group_name": "/ecs/vtenh-web",
              "memcached_servers": "memcached.4yy17c.cfg.apse1.cache.amazonaws.com:11211",
              "protected_password": "",
              "protected_username": "",
              "rails_master_key": "327385331c545d6f54f090ccec015e9d",
              "rails_max_instance": "8",
              "rails_max_threads": "5",
              "rails_min_instances": "6",
              "rails_task_name": "",
              "rds_db_host": "db-postgresql.cwavjegnholw.ap-southeast-1.rds.amazonaws.com",
              "rds_db_name": "vtenh",
              "rds_db_password": "vtenh9ZOZI",
              "rds_db_user": "vtenh",
              "redis_url": "redis://redis.4yy17c.0001.apse1.cache.amazonaws.com:6379/1",
              "region": "ap-southeast-1",
              "show_topbar": "yes",
              "sidekiq_password": "admin_queue@vtenh0102",
              "sidekiq_username": "admin_queue",
              "sms_sender_id": "VTenh",
              "smtp_password": "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",
              "smtp_server": "smtp.sendgrid.net",
              "smtp_username": "apikey",
              "ssh_public_key_arn": "arn:aws:ssm:ap-southeast-1:611922433325:parameter/ssh_public_key",
              "time_zone": "Bangkok",
              "touch_redeploy": "2022-05-04 22:25:00"
            }
          }
        }
      ]
    },
    {
      "mode": "data",
      "type": "template_file",
      "name": "ecs_queue",
      "provider": "provider[\"registry.terraform.io/hashicorp/template\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "filename": null,
            "id": "857ffd109335a2a20a9c23da3fdafef1fb8b3c88fe8999564317e9b6d4d57ee6",
            "rendered": "[\n  {\n    \n    \"name\": \"VTENH-queue\",\n    \"image\": \"611922433325.dkr.ecr.ap-southeast-1.amazonaws.com/vtenh\",\n    \"cpu\": 512,\n    \"memory\": 1024,\n    \"portMappings\": [\n      {\n        \"containerPort\": 80,\n        \"protocol\": \"tcp\"\n      },\n      {\n        \"containerPort\": 22,\n        \"protocol\": \"tcp\"\n      }\n    ],\n    \"secrets\": [\n      {\n        \"name\": \"SSH_PUBLIC_KEY\",\n        \"valueFrom\": \"arn:aws:ssm:ap-southeast-1:611922433325:parameter/ssh_public_key\"\n      }\n    ],\n    \"environment\": [\n      {\"name\": \"ACTIVE_STORAGE_CDN\", \"value\": \"https://assets-cdn.vtenh.com\"},\n      {\"name\": \"APP_NAME\", \"value\": \"VTENH\"},\n      {\"name\": \"ASSET_HOST_URL\", \"value\": \"https://assets-cdn.vtenh.com\"},\n      {\"name\": \"AWS_BUCKET_NAME\", \"value\": \"vtenh\"},\n      {\"name\": \"AWS_REGION\", \"value\": \"ap-southeast-1\"},\n      {\"name\": \"DEFAULT_EMAIL_FOR_PAYMENT\", \"value\": \"info+aba@vtenh.com\"},\n      {\"name\": \"DEVISE_SECRET_KEY\", \"value\": \"e0f35eaaf8c617c5fd5ee18124ec640eb84273f5f72c12af00db89e4cf01244d66ce206a72356f78d14301552b587af07d59\"},\n      {\"name\": \"ELASTICSEARCH_URL\", \"value\": \"https://elastic:7uTSwzJ8exuKdk3TNGtPIOXR@memory-optimized-deployment.es.ap-southeast-1.aws.found.io:9243\"},\n      {\"name\": \"EXCEPTION_NOTIFY_ENABLE\", \"value\": \"yes\"},\n      {\"name\": \"EXCEPTION_SLACK_WEBHOOK_URL\", \"value\": \"https://hooks.slack.com/services/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\"},\n      {\"name\": \"EXCEPTION_CHANNEL_ID\", \"value\": \"#production-exceptions\"},\n      {\"name\": \"FB_APP_ID\", \"value\": \"381496249527504\"},\n      {\"name\": \"FIREBASE_PROJECT_ID\", \"value\": \"vtenh-46ed3\"},\n      {\"name\": \"DEFAULT_URL_HOST\", \"value\": \"https://www.vtenh.com\"},\n      {\"name\": \"GOOGLE_TAG_MANAGER\", \"value\": \"GTM-5D7SNTB\"},\n\n      {\"name\": \"MEMCACHE_SERVERS\", \"value\": \"memcached.4yy17c.cfg.apse1.cache.amazonaws.com:11211\"},\n      {\"name\": \"MODE_ENV\", \"value\": \"queue\"},\n      {\"name\": \"RAILS_TASK_NAME\", \"value\": \"\"},\n      {\"name\": \"PROTECTED_USERNAME\", \"value\": \"\"},\n      {\"name\": \"PROTECTED_PASSWORD\", \"value\": \"\"},\n      {\"name\": \"RAILS_ENV\", \"value\": \"production\"},\n      {\"name\": \"RAILS_LOG_TO_STDOUT\", \"value\": \"1\"},\n      {\"name\": \"RAILS_MASTER_KEY\", \"value\": \"327385331c545d6f54f090ccec015e9d\"},\n      {\"name\": \"RAILS_MIN_INSTANCES\", \"value\": \"6\"},\n      {\"name\": \"RAILS_MAX_INSTANCES\", \"value\": \"8\"},\n      {\"name\": \"RAILS_MAX_THREADS\", \"value\": \"25\"},\n      {\"name\": \"REDIS_URL\", \"value\": \"redis://redis.4yy17c.0001.apse1.cache.amazonaws.com:6379/1\"},\n      {\"name\": \"SHOW_TOPBAR\", \"value\": \"yes\"},\n      {\"name\": \"SIDEKIQ_USERNAME\", \"value\": \"admin_queue\"},\n      {\"name\": \"SIDEKIQ_PASSWORD\", \"value\": \"admin_queue@vtenh0102\"},\n      {\"name\": \"SMS_SENDER_ID\", \"value\": \"VTenh\"},\n      {\"name\": \"SMTP_SERVER\", \"value\": \"smtp.sendgrid.net\"},\n      {\"name\": \"SMTP_USERNAME\", \"value\": \"apikey\"},\n      {\"name\": \"SMTP_PASSWORD\", \"value\": \"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\"},\n      {\"name\": \"TIME_ZONE\", \"value\": \"Bangkok\"},\n      {\"name\": \"VSHOP_DB_HOST\", \"value\": \"db-postgresql.cwavjegnholw.ap-southeast-1.rds.amazonaws.com\"},\n      {\"name\": \"VSHOP_DB_NAME\", \"value\": \"vtenh\"},\n      {\"name\": \"VSHOP_DB_NAME_PRODUCTION\", \"value\": \"vtenh\"},\n      {\"name\": \"VSHOP_DB_USER\", \"value\": \"vtenh\"},\n      {\"name\": \"VSHOP_DB_PASSWORD\", \"value\": \"vtenh9ZOZI\"},\n      {\"name\": \"TOUCH_REDEPLOY\", \"value\": \"2022-05-04 22:25:00\"}\n    ],\n    \"logConfiguration\": {\n      \"logDriver\": \"awslogs\",\n      \"options\": {\n        \"awslogs-create-group\": \"true\",\n        \"awslogs-group\": \"/ecs/vtenh-queue\",\n        \"awslogs-region\": \"ap-southeast-1\",\n        \"awslogs-stream-prefix\": \"ecs\"\n      }\n    }\n  }\n]\n",
            "template": "[\n  {\n    ${custom_command}\n    \"name\": \"${container_name}\",\n    \"image\": \"${docker_image_url}\",\n    \"cpu\": ${container_cpu},\n    \"memory\": ${container_memory},\n    \"portMappings\": [\n      {\n        \"containerPort\": ${container_port},\n        \"protocol\": \"tcp\"\n      },\n      {\n        \"containerPort\": 22,\n        \"protocol\": \"tcp\"\n      }\n    ],\n    \"secrets\": [\n      {\n        \"name\": \"SSH_PUBLIC_KEY\",\n        \"valueFrom\": \"${ssh_public_key_arn}\"\n      }\n    ],\n    \"environment\": [\n      {\"name\": \"ACTIVE_STORAGE_CDN\", \"value\": \"${active_storage_cdn}\"},\n      {\"name\": \"APP_NAME\", \"value\": \"${app_name}\"},\n      {\"name\": \"ASSET_HOST_URL\", \"value\": \"${asset_host_url}\"},\n      {\"name\": \"AWS_BUCKET_NAME\", \"value\": \"${bucket_Name}\"},\n      {\"name\": \"AWS_REGION\", \"value\": \"${region}\"},\n      {\"name\": \"DEFAULT_EMAIL_FOR_PAYMENT\", \"value\": \"${default_email_for_payment}\"},\n      {\"name\": \"DEVISE_SECRET_KEY\", \"value\": \"${device_secret_key}\"},\n      {\"name\": \"ELASTICSEARCH_URL\", \"value\": \"${es_url}\"},\n      {\"name\": \"EXCEPTION_NOTIFY_ENABLE\", \"value\": \"${exception_notification_enable}\"},\n      {\"name\": \"EXCEPTION_SLACK_WEBHOOK_URL\", \"value\": \"${exception_slack_webhook_url}\"},\n      {\"name\": \"EXCEPTION_CHANNEL_ID\", \"value\": \"${exception_channel_id}\"},\n      {\"name\": \"FB_APP_ID\", \"value\": \"${fb_app_id}\"},\n      {\"name\": \"FIREBASE_PROJECT_ID\", \"value\": \"${firebase_project_id}\"},\n      {\"name\": \"DEFAULT_URL_HOST\", \"value\": \"${host}\"},\n      {\"name\": \"GOOGLE_TAG_MANAGER\", \"value\": \"${google_tag_manager}\"},\n\n      {\"name\": \"MEMCACHE_SERVERS\", \"value\": \"${memcached_servers}\"},\n      {\"name\": \"MODE_ENV\", \"value\": \"${app_mode}\"},\n      {\"name\": \"RAILS_TASK_NAME\", \"value\": \"${rails_task_name}\"},\n      {\"name\": \"PROTECTED_USERNAME\", \"value\": \"${protected_username}\"},\n      {\"name\": \"PROTECTED_PASSWORD\", \"value\": \"${protected_password}\"},\n      {\"name\": \"RAILS_ENV\", \"value\": \"production\"},\n      {\"name\": \"RAILS_LOG_TO_STDOUT\", \"value\": \"1\"},\n      {\"name\": \"RAILS_MASTER_KEY\", \"value\": \"${rails_master_key}\"},\n      {\"name\": \"RAILS_MIN_INSTANCES\", \"value\": \"${rails_min_instances}\"},\n      {\"name\": \"RAILS_MAX_INSTANCES\", \"value\": \"${rails_max_instance}\"},\n      {\"name\": \"RAILS_MAX_THREADS\", \"value\": \"${rails_max_threads}\"},\n      {\"name\": \"REDIS_URL\", \"value\": \"${redis_url}\"},\n      {\"name\": \"SHOW_TOPBAR\", \"value\": \"${show_topbar}\"},\n      {\"name\": \"SIDEKIQ_USERNAME\", \"value\": \"${sidekiq_username}\"},\n      {\"name\": \"SIDEKIQ_PASSWORD\", \"value\": \"${sidekiq_password}\"},\n      {\"name\": \"SMS_SENDER_ID\", \"value\": \"${sms_sender_id}\"},\n      {\"name\": \"SMTP_SERVER\", \"value\": \"${smtp_server}\"},\n      {\"name\": \"SMTP_USERNAME\", \"value\": \"${smtp_username}\"},\n      {\"name\": \"SMTP_PASSWORD\", \"value\": \"${smtp_password}\"},\n      {\"name\": \"TIME_ZONE\", \"value\": \"${time_zone}\"},\n      {\"name\": \"VSHOP_DB_HOST\", \"value\": \"${rds_db_host}\"},\n      {\"name\": \"VSHOP_DB_NAME\", \"value\": \"${rds_db_name}\"},\n      {\"name\": \"VSHOP_DB_NAME_PRODUCTION\", \"value\": \"${rds_db_name}\"},\n      {\"name\": \"VSHOP_DB_USER\", \"value\": \"${rds_db_user}\"},\n      {\"name\": \"VSHOP_DB_PASSWORD\", \"value\": \"${rds_db_password}\"},\n      {\"name\": \"TOUCH_REDEPLOY\", \"value\": \"${touch_redeploy}\"}\n    ],\n    \"logConfiguration\": {\n      \"logDriver\": \"awslogs\",\n      \"options\": {\n        \"awslogs-create-group\": \"true\",\n        \"awslogs-group\": \"${log_group_name}\",\n        \"awslogs-region\": \"${region}\",\n        \"awslogs-stream-prefix\": \"ecs\"\n      }\n    }\n  }\n]\n",
            "vars": {
              "active_storage_cdn": "https://assets-cdn.vtenh.com",
              "app_mode": "queue",
              "app_name": "VTENH",
              "asset_host_url": "https://assets-cdn.vtenh.com",
              "bucket_Name": "vtenh",
              "container_cpu": "512",
              "container_memory": "1024",
              "container_name": "VTENH-queue",
              "container_port": "80",
              "custom_command": "",
              "default_email_for_payment": "info+aba@vtenh.com",
              "device_secret_key": "e0f35eaaf8c617c5fd5ee18124ec640eb84273f5f72c12af00db89e4cf01244d66ce206a72356f78d14301552b587af07d59",
              "docker_image_url": "611922433325.dkr.ecr.ap-southeast-1.amazonaws.com/vtenh",
              "es_url": "https://elastic:7uTSwzJ8exuKdk3TNGtPIOXR@memory-optimized-deployment.es.ap-southeast-1.aws.found.io:9243",
              "exception_channel_id": "#production-exceptions",
              "exception_notification_enable": "yes",
              "exception_slack_webhook_url": "https://hooks.slack.com/services/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",
              "fb_app_id": "381496249527504",
              "firebase_project_id": "vtenh-46ed3",
              "google_tag_manager": "GTM-5D7SNTB",
              "host": "https://www.vtenh.com",
              "log_group_name": "/ecs/vtenh-queue",
              "memcached_servers": "memcached.4yy17c.cfg.apse1.cache.amazonaws.com:11211",
              "protected_password": "",
              "protected_username": "",
              "rails_master_key": "327385331c545d6f54f090ccec015e9d",
              "rails_max_instance": "8",
              "rails_max_threads": "25",
              "rails_min_instances": "6",
              "rails_task_name": "",
              "rds_db_host": "db-postgresql.cwavjegnholw.ap-southeast-1.rds.amazonaws.com",
              "rds_db_name": "vtenh",
              "rds_db_password": "vtenh9ZOZI",
              "rds_db_user": "vtenh",
              "redis_url": "redis://redis.4yy17c.0001.apse1.cache.amazonaws.com:6379/1",
              "region": "ap-southeast-1",
              "show_topbar": "yes",
              "sidekiq_password": "admin_queue@vtenh0102",
              "sidekiq_username": "admin_queue",
              "sms_sender_id": "VTenh",
              "smtp_password": "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",
              "smtp_server": "smtp.sendgrid.net",
              "smtp_username": "apikey",
              "ssh_public_key_arn": "arn:aws:ssm:ap-southeast-1:611922433325:parameter/ssh_public_key",
              "time_zone": "Bangkok",
              "touch_redeploy": "2022-05-04 22:25:00"
            }
          }
        }
      ]
    },
    {
      "mode": "data",
      "type": "template_file",
      "name": "session_store_ttl",
      "provider": "provider[\"registry.terraform.io/hashicorp/template\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "filename": null,
            "id": "dde07c08bd70d2c7d83ecee4bf76c5c10671277128569e1add53839edd5cde46",
            "rendered": "[\n  {\n    \"command\": [ \"/tmp/custom_script/task.sh\" ],\n    \"name\": \"VTENH-cron\",\n    \"image\": \"611922433325.dkr.ecr.ap-southeast-1.amazonaws.com/vtenh\",\n    \"cpu\": 512,\n    \"memory\": 1024,\n    \"portMappings\": [\n      {\n        \"containerPort\": 80,\n        \"protocol\": \"tcp\"\n      },\n      {\n        \"containerPort\": 22,\n        \"protocol\": \"tcp\"\n      }\n    ],\n    \"secrets\": [\n      {\n        \"name\": \"SSH_PUBLIC_KEY\",\n        \"valueFrom\": \"arn:aws:ssm:ap-southeast-1:611922433325:parameter/ssh_public_key\"\n      }\n    ],\n    \"environment\": [\n      {\"name\": \"ACTIVE_STORAGE_CDN\", \"value\": \"https://assets-cdn.vtenh.com\"},\n      {\"name\": \"APP_NAME\", \"value\": \"VTENH\"},\n      {\"name\": \"ASSET_HOST_URL\", \"value\": \"https://assets-cdn.vtenh.com\"},\n      {\"name\": \"AWS_BUCKET_NAME\", \"value\": \"vtenh\"},\n      {\"name\": \"AWS_REGION\", \"value\": \"ap-southeast-1\"},\n      {\"name\": \"DEFAULT_EMAIL_FOR_PAYMENT\", \"value\": \"info+aba@vtenh.com\"},\n      {\"name\": \"DEVISE_SECRET_KEY\", \"value\": \"e0f35eaaf8c617c5fd5ee18124ec640eb84273f5f72c12af00db89e4cf01244d66ce206a72356f78d14301552b587af07d59\"},\n      {\"name\": \"ELASTICSEARCH_URL\", \"value\": \"https://elastic:7uTSwzJ8exuKdk3TNGtPIOXR@memory-optimized-deployment.es.ap-southeast-1.aws.found.io:9243\"},\n      {\"name\": \"EXCEPTION_NOTIFY_ENABLE\", \"value\": \"yes\"},\n      {\"name\": \"EXCEPTION_SLACK_WEBHOOK_URL\", \"value\": \"https://hooks.slack.com/services/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\"},\n      {\"name\": \"EXCEPTION_CHANNEL_ID\", \"value\": \"#production-exceptions\"},\n      {\"name\": \"FB_APP_ID\", \"value\": \"381496249527504\"},\n      {\"name\": \"FIREBASE_PROJECT_ID\", \"value\": \"vtenh-46ed3\"},\n      {\"name\": \"DEFAULT_URL_HOST\", \"value\": \"https://www.vtenh.com\"},\n      {\"name\": \"GOOGLE_TAG_MANAGER\", \"value\": \"GTM-5D7SNTB\"},\n\n      {\"name\": \"MEMCACHE_SERVERS\", \"value\": \"memcached.4yy17c.cfg.apse1.cache.amazonaws.com:11211\"},\n      {\"name\": \"MODE_ENV\", \"value\": \"task\"},\n      {\"name\": \"RAILS_TASK_NAME\", \"value\": \"db:sessions:trim\"},\n      {\"name\": \"PROTECTED_USERNAME\", \"value\": \"\"},\n      {\"name\": \"PROTECTED_PASSWORD\", \"value\": \"\"},\n      {\"name\": \"RAILS_ENV\", \"value\": \"production\"},\n      {\"name\": \"RAILS_LOG_TO_STDOUT\", \"value\": \"1\"},\n      {\"name\": \"RAILS_MASTER_KEY\", \"value\": \"327385331c545d6f54f090ccec015e9d\"},\n      {\"name\": \"RAILS_MIN_INSTANCES\", \"value\": \"6\"},\n      {\"name\": \"RAILS_MAX_INSTANCES\", \"value\": \"8\"},\n      {\"name\": \"RAILS_MAX_THREADS\", \"value\": \"5\"},\n      {\"name\": \"REDIS_URL\", \"value\": \"redis://redis.4yy17c.0001.apse1.cache.amazonaws.com:6379/1\"},\n      {\"name\": \"SHOW_TOPBAR\", \"value\": \"yes\"},\n      {\"name\": \"SIDEKIQ_USERNAME\", \"value\": \"admin_queue\"},\n      {\"name\": \"SIDEKIQ_PASSWORD\", \"value\": \"admin_queue@vtenh0102\"},\n      {\"name\": \"SMS_SENDER_ID\", \"value\": \"VTenh\"},\n      {\"name\": \"SMTP_SERVER\", \"value\": \"smtp.sendgrid.net\"},\n      {\"name\": \"SMTP_USERNAME\", \"value\": \"apikey\"},\n      {\"name\": \"SMTP_PASSWORD\", \"value\": \"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\"},\n      {\"name\": \"TIME_ZONE\", \"value\": \"Bangkok\"},\n      {\"name\": \"VSHOP_DB_HOST\", \"value\": \"db-postgresql.cwavjegnholw.ap-southeast-1.rds.amazonaws.com\"},\n      {\"name\": \"VSHOP_DB_NAME\", \"value\": \"vtenh\"},\n      {\"name\": \"VSHOP_DB_NAME_PRODUCTION\", \"value\": \"vtenh\"},\n      {\"name\": \"VSHOP_DB_USER\", \"value\": \"vtenh\"},\n      {\"name\": \"VSHOP_DB_PASSWORD\", \"value\": \"vtenh9ZOZI\"},\n      {\"name\": \"TOUCH_REDEPLOY\", \"value\": \"2022-05-04 22:25:00\"}\n    ],\n    \"logConfiguration\": {\n      \"logDriver\": \"awslogs\",\n      \"options\": {\n        \"awslogs-create-group\": \"true\",\n        \"awslogs-group\": \"/ecs/cron20210211040530723800000002\",\n        \"awslogs-region\": \"ap-southeast-1\",\n        \"awslogs-stream-prefix\": \"ecs\"\n      }\n    }\n  }\n]\n",
            "template": "[\n  {\n    ${custom_command}\n    \"name\": \"${container_name}\",\n    \"image\": \"${docker_image_url}\",\n    \"cpu\": ${container_cpu},\n    \"memory\": ${container_memory},\n    \"portMappings\": [\n      {\n        \"containerPort\": ${container_port},\n        \"protocol\": \"tcp\"\n      },\n      {\n        \"containerPort\": 22,\n        \"protocol\": \"tcp\"\n      }\n    ],\n    \"secrets\": [\n      {\n        \"name\": \"SSH_PUBLIC_KEY\",\n        \"valueFrom\": \"${ssh_public_key_arn}\"\n      }\n    ],\n    \"environment\": [\n      {\"name\": \"ACTIVE_STORAGE_CDN\", \"value\": \"${active_storage_cdn}\"},\n      {\"name\": \"APP_NAME\", \"value\": \"${app_name}\"},\n      {\"name\": \"ASSET_HOST_URL\", \"value\": \"${asset_host_url}\"},\n      {\"name\": \"AWS_BUCKET_NAME\", \"value\": \"${bucket_Name}\"},\n      {\"name\": \"AWS_REGION\", \"value\": \"${region}\"},\n      {\"name\": \"DEFAULT_EMAIL_FOR_PAYMENT\", \"value\": \"${default_email_for_payment}\"},\n      {\"name\": \"DEVISE_SECRET_KEY\", \"value\": \"${device_secret_key}\"},\n      {\"name\": \"ELASTICSEARCH_URL\", \"value\": \"${es_url}\"},\n      {\"name\": \"EXCEPTION_NOTIFY_ENABLE\", \"value\": \"${exception_notification_enable}\"},\n      {\"name\": \"EXCEPTION_SLACK_WEBHOOK_URL\", \"value\": \"${exception_slack_webhook_url}\"},\n      {\"name\": \"EXCEPTION_CHANNEL_ID\", \"value\": \"${exception_channel_id}\"},\n      {\"name\": \"FB_APP_ID\", \"value\": \"${fb_app_id}\"},\n      {\"name\": \"FIREBASE_PROJECT_ID\", \"value\": \"${firebase_project_id}\"},\n      {\"name\": \"DEFAULT_URL_HOST\", \"value\": \"${host}\"},\n      {\"name\": \"GOOGLE_TAG_MANAGER\", \"value\": \"${google_tag_manager}\"},\n\n      {\"name\": \"MEMCACHE_SERVERS\", \"value\": \"${memcached_servers}\"},\n      {\"name\": \"MODE_ENV\", \"value\": \"${app_mode}\"},\n      {\"name\": \"RAILS_TASK_NAME\", \"value\": \"${rails_task_name}\"},\n      {\"name\": \"PROTECTED_USERNAME\", \"value\": \"${protected_username}\"},\n      {\"name\": \"PROTECTED_PASSWORD\", \"value\": \"${protected_password}\"},\n      {\"name\": \"RAILS_ENV\", \"value\": \"production\"},\n      {\"name\": \"RAILS_LOG_TO_STDOUT\", \"value\": \"1\"},\n      {\"name\": \"RAILS_MASTER_KEY\", \"value\": \"${rails_master_key}\"},\n      {\"name\": \"RAILS_MIN_INSTANCES\", \"value\": \"${rails_min_instances}\"},\n      {\"name\": \"RAILS_MAX_INSTANCES\", \"value\": \"${rails_max_instance}\"},\n      {\"name\": \"RAILS_MAX_THREADS\", \"value\": \"${rails_max_threads}\"},\n      {\"name\": \"REDIS_URL\", \"value\": \"${redis_url}\"},\n      {\"name\": \"SHOW_TOPBAR\", \"value\": \"${show_topbar}\"},\n      {\"name\": \"SIDEKIQ_USERNAME\", \"value\": \"${sidekiq_username}\"},\n      {\"name\": \"SIDEKIQ_PASSWORD\", \"value\": \"${sidekiq_password}\"},\n      {\"name\": \"SMS_SENDER_ID\", \"value\": \"${sms_sender_id}\"},\n      {\"name\": \"SMTP_SERVER\", \"value\": \"${smtp_server}\"},\n      {\"name\": \"SMTP_USERNAME\", \"value\": \"${smtp_username}\"},\n      {\"name\": \"SMTP_PASSWORD\", \"value\": \"${smtp_password}\"},\n      {\"name\": \"TIME_ZONE\", \"value\": \"${time_zone}\"},\n      {\"name\": \"VSHOP_DB_HOST\", \"value\": \"${rds_db_host}\"},\n      {\"name\": \"VSHOP_DB_NAME\", \"value\": \"${rds_db_name}\"},\n      {\"name\": \"VSHOP_DB_NAME_PRODUCTION\", \"value\": \"${rds_db_name}\"},\n      {\"name\": \"VSHOP_DB_USER\", \"value\": \"${rds_db_user}\"},\n      {\"name\": \"VSHOP_DB_PASSWORD\", \"value\": \"${rds_db_password}\"},\n      {\"name\": \"TOUCH_REDEPLOY\", \"value\": \"${touch_redeploy}\"}\n    ],\n    \"logConfiguration\": {\n      \"logDriver\": \"awslogs\",\n      \"options\": {\n        \"awslogs-create-group\": \"true\",\n        \"awslogs-group\": \"${log_group_name}\",\n        \"awslogs-region\": \"${region}\",\n        \"awslogs-stream-prefix\": \"ecs\"\n      }\n    }\n  }\n]\n",
            "vars": {
              "active_storage_cdn": "https://assets-cdn.vtenh.com",
              "app_mode": "task",
              "app_name": "VTENH",
              "asset_host_url": "https://assets-cdn.vtenh.com",
              "bucket_Name": "vtenh",
              "container_cpu": "512",
              "container_memory": "1024",
              "container_name": "VTENH-cron",
              "container_port": "80",
              "custom_command": "\"command\": [ \"/tmp/custom_script/task.sh\" ],",
              "default_email_for_payment": "info+aba@vtenh.com",
              "device_secret_key": "e0f35eaaf8c617c5fd5ee18124ec640eb84273f5f72c12af00db89e4cf01244d66ce206a72356f78d14301552b587af07d59",
              "docker_image_url": "611922433325.dkr.ecr.ap-southeast-1.amazonaws.com/vtenh",
              "es_url": "https://elastic:7uTSwzJ8exuKdk3TNGtPIOXR@memory-optimized-deployment.es.ap-southeast-1.aws.found.io:9243",
              "exception_channel_id": "#production-exceptions",
              "exception_notification_enable": "yes",
              "exception_slack_webhook_url": "https://hooks.slack.com/services/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",
              "fb_app_id": "381496249527504",
              "firebase_project_id": "vtenh-46ed3",
              "google_tag_manager": "GTM-5D7SNTB",
              "host": "https://www.vtenh.com",
              "log_group_name": "/ecs/cron20210211040530723800000002",
              "memcached_servers": "memcached.4yy17c.cfg.apse1.cache.amazonaws.com:11211",
              "protected_password": "",
              "protected_username": "",
              "rails_master_key": "327385331c545d6f54f090ccec015e9d",
              "rails_max_instance": "8",
              "rails_max_threads": "5",
              "rails_min_instances": "6",
              "rails_task_name": "db:sessions:trim",
              "rds_db_host": "db-postgresql.cwavjegnholw.ap-southeast-1.rds.amazonaws.com",
              "rds_db_name": "vtenh",
              "rds_db_password": "vtenh9ZOZI",
              "rds_db_user": "vtenh",
              "redis_url": "redis://redis.4yy17c.0001.apse1.cache.amazonaws.com:6379/1",
              "region": "ap-southeast-1",
              "show_topbar": "yes",
              "sidekiq_password": "admin_queue@vtenh0102",
              "sidekiq_username": "admin_queue",
              "sms_sender_id": "VTenh",
              "smtp_password": "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",
              "smtp_server": "smtp.sendgrid.net",
              "smtp_username": "apikey",
              "ssh_public_key_arn": "arn:aws:ssm:ap-southeast-1:611922433325:parameter/ssh_public_key",
              "time_zone": "Bangkok",
              "touch_redeploy": "2022-05-04 22:25:00"
            }
          }
        }
      ]
    },
    {
      "mode": "data",
      "type": "template_file",
      "name": "sitemap",
      "provider": "provider[\"registry.terraform.io/hashicorp/template\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "filename": null,
            "id": "b752026274c23a0a2027863ab703014de41e6646cfca010c2c90a6193b94200d",
            "rendered": "[\n  {\n    \"command\": [ \"/tmp/custom_script/task.sh\" ],\n    \"name\": \"VTENH-cron\",\n    \"image\": \"611922433325.dkr.ecr.ap-southeast-1.amazonaws.com/vtenh\",\n    \"cpu\": 512,\n    \"memory\": 1024,\n    \"portMappings\": [\n      {\n        \"containerPort\": 80,\n        \"protocol\": \"tcp\"\n      },\n      {\n        \"containerPort\": 22,\n        \"protocol\": \"tcp\"\n      }\n    ],\n    \"secrets\": [\n      {\n        \"name\": \"SSH_PUBLIC_KEY\",\n        \"valueFrom\": \"arn:aws:ssm:ap-southeast-1:611922433325:parameter/ssh_public_key\"\n      }\n    ],\n    \"environment\": [\n      {\"name\": \"ACTIVE_STORAGE_CDN\", \"value\": \"https://assets-cdn.vtenh.com\"},\n      {\"name\": \"APP_NAME\", \"value\": \"VTENH\"},\n      {\"name\": \"ASSET_HOST_URL\", \"value\": \"https://assets-cdn.vtenh.com\"},\n      {\"name\": \"AWS_BUCKET_NAME\", \"value\": \"vtenh\"},\n      {\"name\": \"AWS_REGION\", \"value\": \"ap-southeast-1\"},\n      {\"name\": \"DEFAULT_EMAIL_FOR_PAYMENT\", \"value\": \"info+aba@vtenh.com\"},\n      {\"name\": \"DEVISE_SECRET_KEY\", \"value\": \"e0f35eaaf8c617c5fd5ee18124ec640eb84273f5f72c12af00db89e4cf01244d66ce206a72356f78d14301552b587af07d59\"},\n      {\"name\": \"ELASTICSEARCH_URL\", \"value\": \"https://elastic:7uTSwzJ8exuKdk3TNGtPIOXR@memory-optimized-deployment.es.ap-southeast-1.aws.found.io:9243\"},\n      {\"name\": \"EXCEPTION_NOTIFY_ENABLE\", \"value\": \"yes\"},\n      {\"name\": \"EXCEPTION_SLACK_WEBHOOK_URL\", \"value\": \"https://hooks.slack.com/services/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\"},\n      {\"name\": \"EXCEPTION_CHANNEL_ID\", \"value\": \"#production-exceptions\"},\n      {\"name\": \"FB_APP_ID\", \"value\": \"381496249527504\"},\n      {\"name\": \"FIREBASE_PROJECT_ID\", \"value\": \"vtenh-46ed3\"},\n      {\"name\": \"DEFAULT_URL_HOST\", \"value\": \"https://www.vtenh.com\"},\n      {\"name\": \"GOOGLE_TAG_MANAGER\", \"value\": \"GTM-5D7SNTB\"},\n\n      {\"name\": \"MEMCACHE_SERVERS\", \"value\": \"memcached.4yy17c.cfg.apse1.cache.amazonaws.com:11211\"},\n      {\"name\": \"MODE_ENV\", \"value\": \"task\"},\n      {\"name\": \"RAILS_TASK_NAME\", \"value\": \"sitemap:refresh\"},\n      {\"name\": \"PROTECTED_USERNAME\", \"value\": \"\"},\n      {\"name\": \"PROTECTED_PASSWORD\", \"value\": \"\"},\n      {\"name\": \"RAILS_ENV\", \"value\": \"production\"},\n      {\"name\": \"RAILS_LOG_TO_STDOUT\", \"value\": \"1\"},\n      {\"name\": \"RAILS_MASTER_KEY\", \"value\": \"327385331c545d6f54f090ccec015e9d\"},\n      {\"name\": \"RAILS_MIN_INSTANCES\", \"value\": \"6\"},\n      {\"name\": \"RAILS_MAX_INSTANCES\", \"value\": \"8\"},\n      {\"name\": \"RAILS_MAX_THREADS\", \"value\": \"5\"},\n      {\"name\": \"REDIS_URL\", \"value\": \"redis://redis.4yy17c.0001.apse1.cache.amazonaws.com:6379/1\"},\n      {\"name\": \"SHOW_TOPBAR\", \"value\": \"yes\"},\n      {\"name\": \"SIDEKIQ_USERNAME\", \"value\": \"admin_queue\"},\n      {\"name\": \"SIDEKIQ_PASSWORD\", \"value\": \"admin_queue@vtenh0102\"},\n      {\"name\": \"SMS_SENDER_ID\", \"value\": \"VTenh\"},\n      {\"name\": \"SMTP_SERVER\", \"value\": \"smtp.sendgrid.net\"},\n      {\"name\": \"SMTP_USERNAME\", \"value\": \"apikey\"},\n      {\"name\": \"SMTP_PASSWORD\", \"value\": \"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\"},\n      {\"name\": \"TIME_ZONE\", \"value\": \"Bangkok\"},\n      {\"name\": \"VSHOP_DB_HOST\", \"value\": \"db-postgresql.cwavjegnholw.ap-southeast-1.rds.amazonaws.com\"},\n      {\"name\": \"VSHOP_DB_NAME\", \"value\": \"vtenh\"},\n      {\"name\": \"VSHOP_DB_NAME_PRODUCTION\", \"value\": \"vtenh\"},\n      {\"name\": \"VSHOP_DB_USER\", \"value\": \"vtenh\"},\n      {\"name\": \"VSHOP_DB_PASSWORD\", \"value\": \"vtenh9ZOZI\"},\n      {\"name\": \"TOUCH_REDEPLOY\", \"value\": \"2022-05-04 22:25:00\"}\n    ],\n    \"logConfiguration\": {\n      \"logDriver\": \"awslogs\",\n      \"options\": {\n        \"awslogs-create-group\": \"true\",\n        \"awslogs-group\": \"/ecs/cron20210211040530723800000002\",\n        \"awslogs-region\": \"ap-southeast-1\",\n        \"awslogs-stream-prefix\": \"ecs\"\n      }\n    }\n  }\n]\n",
            "template": "[\n  {\n    ${custom_command}\n    \"name\": \"${container_name}\",\n    \"image\": \"${docker_image_url}\",\n    \"cpu\": ${container_cpu},\n    \"memory\": ${container_memory},\n    \"portMappings\": [\n      {\n        \"containerPort\": ${container_port},\n        \"protocol\": \"tcp\"\n      },\n      {\n        \"containerPort\": 22,\n        \"protocol\": \"tcp\"\n      }\n    ],\n    \"secrets\": [\n      {\n        \"name\": \"SSH_PUBLIC_KEY\",\n        \"valueFrom\": \"${ssh_public_key_arn}\"\n      }\n    ],\n    \"environment\": [\n      {\"name\": \"ACTIVE_STORAGE_CDN\", \"value\": \"${active_storage_cdn}\"},\n      {\"name\": \"APP_NAME\", \"value\": \"${app_name}\"},\n      {\"name\": \"ASSET_HOST_URL\", \"value\": \"${asset_host_url}\"},\n      {\"name\": \"AWS_BUCKET_NAME\", \"value\": \"${bucket_Name}\"},\n      {\"name\": \"AWS_REGION\", \"value\": \"${region}\"},\n      {\"name\": \"DEFAULT_EMAIL_FOR_PAYMENT\", \"value\": \"${default_email_for_payment}\"},\n      {\"name\": \"DEVISE_SECRET_KEY\", \"value\": \"${device_secret_key}\"},\n      {\"name\": \"ELASTICSEARCH_URL\", \"value\": \"${es_url}\"},\n      {\"name\": \"EXCEPTION_NOTIFY_ENABLE\", \"value\": \"${exception_notification_enable}\"},\n      {\"name\": \"EXCEPTION_SLACK_WEBHOOK_URL\", \"value\": \"${exception_slack_webhook_url}\"},\n      {\"name\": \"EXCEPTION_CHANNEL_ID\", \"value\": \"${exception_channel_id}\"},\n      {\"name\": \"FB_APP_ID\", \"value\": \"${fb_app_id}\"},\n      {\"name\": \"FIREBASE_PROJECT_ID\", \"value\": \"${firebase_project_id}\"},\n      {\"name\": \"DEFAULT_URL_HOST\", \"value\": \"${host}\"},\n      {\"name\": \"GOOGLE_TAG_MANAGER\", \"value\": \"${google_tag_manager}\"},\n\n      {\"name\": \"MEMCACHE_SERVERS\", \"value\": \"${memcached_servers}\"},\n      {\"name\": \"MODE_ENV\", \"value\": \"${app_mode}\"},\n      {\"name\": \"RAILS_TASK_NAME\", \"value\": \"${rails_task_name}\"},\n      {\"name\": \"PROTECTED_USERNAME\", \"value\": \"${protected_username}\"},\n      {\"name\": \"PROTECTED_PASSWORD\", \"value\": \"${protected_password}\"},\n      {\"name\": \"RAILS_ENV\", \"value\": \"production\"},\n      {\"name\": \"RAILS_LOG_TO_STDOUT\", \"value\": \"1\"},\n      {\"name\": \"RAILS_MASTER_KEY\", \"value\": \"${rails_master_key}\"},\n      {\"name\": \"RAILS_MIN_INSTANCES\", \"value\": \"${rails_min_instances}\"},\n      {\"name\": \"RAILS_MAX_INSTANCES\", \"value\": \"${rails_max_instance}\"},\n      {\"name\": \"RAILS_MAX_THREADS\", \"value\": \"${rails_max_threads}\"},\n      {\"name\": \"REDIS_URL\", \"value\": \"${redis_url}\"},\n      {\"name\": \"SHOW_TOPBAR\", \"value\": \"${show_topbar}\"},\n      {\"name\": \"SIDEKIQ_USERNAME\", \"value\": \"${sidekiq_username}\"},\n      {\"name\": \"SIDEKIQ_PASSWORD\", \"value\": \"${sidekiq_password}\"},\n      {\"name\": \"SMS_SENDER_ID\", \"value\": \"${sms_sender_id}\"},\n      {\"name\": \"SMTP_SERVER\", \"value\": \"${smtp_server}\"},\n      {\"name\": \"SMTP_USERNAME\", \"value\": \"${smtp_username}\"},\n      {\"name\": \"SMTP_PASSWORD\", \"value\": \"${smtp_password}\"},\n      {\"name\": \"TIME_ZONE\", \"value\": \"${time_zone}\"},\n      {\"name\": \"VSHOP_DB_HOST\", \"value\": \"${rds_db_host}\"},\n      {\"name\": \"VSHOP_DB_NAME\", \"value\": \"${rds_db_name}\"},\n      {\"name\": \"VSHOP_DB_NAME_PRODUCTION\", \"value\": \"${rds_db_name}\"},\n      {\"name\": \"VSHOP_DB_USER\", \"value\": \"${rds_db_user}\"},\n      {\"name\": \"VSHOP_DB_PASSWORD\", \"value\": \"${rds_db_password}\"},\n      {\"name\": \"TOUCH_REDEPLOY\", \"value\": \"${touch_redeploy}\"}\n    ],\n    \"logConfiguration\": {\n      \"logDriver\": \"awslogs\",\n      \"options\": {\n        \"awslogs-create-group\": \"true\",\n        \"awslogs-group\": \"${log_group_name}\",\n        \"awslogs-region\": \"${region}\",\n        \"awslogs-stream-prefix\": \"ecs\"\n      }\n    }\n  }\n]\n",
            "vars": {
              "active_storage_cdn": "https://assets-cdn.vtenh.com",
              "app_mode": "task",
              "app_name": "VTENH",
              "asset_host_url": "https://assets-cdn.vtenh.com",
              "bucket_Name": "vtenh",
              "container_cpu": "512",
              "container_memory": "1024",
              "container_name": "VTENH-cron",
              "container_port": "80",
              "custom_command": "\"command\": [ \"/tmp/custom_script/task.sh\" ],",
              "default_email_for_payment": "info+aba@vtenh.com",
              "device_secret_key": "e0f35eaaf8c617c5fd5ee18124ec640eb84273f5f72c12af00db89e4cf01244d66ce206a72356f78d14301552b587af07d59",
              "docker_image_url": "611922433325.dkr.ecr.ap-southeast-1.amazonaws.com/vtenh",
              "es_url": "https://elastic:7uTSwzJ8exuKdk3TNGtPIOXR@memory-optimized-deployment.es.ap-southeast-1.aws.found.io:9243",
              "exception_channel_id": "#production-exceptions",
              "exception_notification_enable": "yes",
              "exception_slack_webhook_url": "https://hooks.slack.com/services/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",
              "fb_app_id": "381496249527504",
              "firebase_project_id": "vtenh-46ed3",
              "google_tag_manager": "GTM-5D7SNTB",
              "host": "https://www.vtenh.com",
              "log_group_name": "/ecs/cron20210211040530723800000002",
              "memcached_servers": "memcached.4yy17c.cfg.apse1.cache.amazonaws.com:11211",
              "protected_password": "",
              "protected_username": "",
              "rails_master_key": "327385331c545d6f54f090ccec015e9d",
              "rails_max_instance": "8",
              "rails_max_threads": "5",
              "rails_min_instances": "6",
              "rails_task_name": "sitemap:refresh",
              "rds_db_host": "db-postgresql.cwavjegnholw.ap-southeast-1.rds.amazonaws.com",
              "rds_db_name": "vtenh",
              "rds_db_password": "vtenh9ZOZI",
              "rds_db_user": "vtenh",
              "redis_url": "redis://redis.4yy17c.0001.apse1.cache.amazonaws.com:6379/1",
              "region": "ap-southeast-1",
              "show_topbar": "yes",
              "sidekiq_password": "admin_queue@vtenh0102",
              "sidekiq_username": "admin_queue",
              "sms_sender_id": "VTenh",
              "smtp_password": "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",
              "smtp_server": "smtp.sendgrid.net",
              "smtp_username": "apikey",
              "ssh_public_key_arn": "arn:aws:ssm:ap-southeast-1:611922433325:parameter/ssh_public_key",
              "time_zone": "Bangkok",
              "touch_redeploy": "2022-05-04 22:25:00"
            }
          }
        }
      ]
    },
    {
      "module": "module.ecs_fargate_alb",
      "mode": "managed",
      "type": "aws_alb_listener",
      "name": "http",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:elasticloadbalancing:ap-southeast-1:611922433325:listener/app/VTENH-fargate/a46e6943e8cf6238/2d43bef12110fb96",
            "certificate_arn": null,
            "default_action": [
              {
                "authenticate_cognito": [],
                "authenticate_oidc": [],
                "fixed_response": [],
                "forward": [],
                "order": 1,
                "redirect": [
                  {
                    "host": "#{host}",
                    "path": "/#{path}",
                    "port": "443",
                    "protocol": "HTTPS",
                    "query": "#{query}",
                    "status_code": "HTTP_301"
                  }
                ],
                "target_group_arn": "",
                "type": "redirect"
              }
            ],
            "id": "arn:aws:elasticloadbalancing:ap-southeast-1:611922433325:listener/app/VTENH-fargate/a46e6943e8cf6238/2d43bef12110fb96",
            "load_balancer_arn": "arn:aws:elasticloadbalancing:ap-southeast-1:611922433325:loadbalancer/app/VTENH-fargate/a46e6943e8cf6238",
            "port": 80,
            "protocol": "HTTP",
            "ssl_policy": "",
            "timeouts": null
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsicmVhZCI6NjAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "module.ecs_fargate_alb.aws_alb_target_group.main",
            "module.ecs_fargate_alb.aws_lb.main",
            "module.sg.aws_security_group.ecs",
            "module.vpc.aws_subnet.publics",
            "module.vpc.aws_vpc.main",
            "module.vpc.data.aws_availability_zones.available"
          ]
        }
      ]
    },
    {
      "module": "module.ecs_fargate_alb",
      "mode": "managed",
      "type": "aws_alb_listener",
      "name": "https",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:elasticloadbalancing:ap-southeast-1:611922433325:listener/app/VTENH-fargate/a46e6943e8cf6238/a30fafa84a20d7d1",
            "certificate_arn": "arn:aws:acm:ap-southeast-1:611922433325:certificate/c66424af-3ed7-4211-b714-c718d63590df",
            "default_action": [
              {
                "authenticate_cognito": [],
                "authenticate_oidc": [],
                "fixed_response": [],
                "forward": [],
                "order": 1,
                "redirect": [],
                "target_group_arn": "arn:aws:elasticloadbalancing:ap-southeast-1:611922433325:targetgroup/VTENH-fargate/a7147d581f76575a",
                "type": "forward"
              }
            ],
            "id": "arn:aws:elasticloadbalancing:ap-southeast-1:611922433325:listener/app/VTENH-fargate/a46e6943e8cf6238/a30fafa84a20d7d1",
            "load_balancer_arn": "arn:aws:elasticloadbalancing:ap-southeast-1:611922433325:loadbalancer/app/VTENH-fargate/a46e6943e8cf6238",
            "port": 443,
            "protocol": "HTTPS",
            "ssl_policy": "ELBSecurityPolicy-2016-08",
            "timeouts": null
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsicmVhZCI6NjAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "data.aws_acm_certificate.vtenh",
            "module.ecs_fargate_alb.aws_alb_target_group.main",
            "module.ecs_fargate_alb.aws_lb.main"
          ]
        }
      ]
    },
    {
      "module": "module.ecs_fargate_alb",
      "mode": "managed",
      "type": "aws_alb_listener_rule",
      "name": "redirect_non_www",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "action": [
              {
                "authenticate_cognito": [],
                "authenticate_oidc": [],
                "fixed_response": [],
                "forward": [],
                "order": 1,
                "redirect": [
                  {
                    "host": "www.vtenh.com",
                    "path": "/#{path}",
                    "port": "443",
                    "protocol": "HTTPS",
                    "query": "#{query}",
                    "status_code": "HTTP_301"
                  }
                ],
                "target_group_arn": "",
                "type": "redirect"
              }
            ],
            "arn": "arn:aws:elasticloadbalancing:ap-southeast-1:611922433325:listener-rule/app/VTENH-fargate/a46e6943e8cf6238/a30fafa84a20d7d1/82b44b5bd4fdbfee",
            "condition": [
              {
                "host_header": [
                  {
                    "values": [
                      "vtenh.com"
                    ]
                  }
                ],
                "http_header": [],
                "http_request_method": [],
                "path_pattern": [],
                "query_string": [],
                "source_ip": []
              }
            ],
            "id": "arn:aws:elasticloadbalancing:ap-southeast-1:611922433325:listener-rule/app/VTENH-fargate/a46e6943e8cf6238/a30fafa84a20d7d1/82b44b5bd4fdbfee",
            "listener_arn": "arn:aws:elasticloadbalancing:ap-southeast-1:611922433325:listener/app/VTENH-fargate/a46e6943e8cf6238/a30fafa84a20d7d1",
            "priority": 10
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.ecs_fargate_alb.aws_alb_listener.https",
            "module.ecs_fargate_alb.aws_alb_target_group.main",
            "module.ecs_fargate_alb.aws_lb.main"
          ]
        }
      ]
    },
    {
      "module": "module.ecs_fargate_alb",
      "mode": "managed",
      "type": "aws_alb_target_group",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:elasticloadbalancing:ap-southeast-1:611922433325:targetgroup/VTENH-fargate/a7147d581f76575a",
            "arn_suffix": "targetgroup/VTENH-fargate/a7147d581f76575a",
            "deregistration_delay": 300,
            "health_check": [
              {
                "enabled": true,
                "healthy_threshold": 3,
                "interval": 60,
                "matcher": "200",
                "path": "/health_check",
                "port": "traffic-port",
                "protocol": "HTTP",
                "timeout": 30,
                "unhealthy_threshold": 10
              }
            ],
            "id": "arn:aws:elasticloadbalancing:ap-southeast-1:611922433325:targetgroup/VTENH-fargate/a7147d581f76575a",
            "lambda_multi_value_headers_enabled": false,
            "load_balancing_algorithm_type": "round_robin",
            "name": "VTENH-fargate",
            "name_prefix": null,
            "port": 80,
            "protocol": "HTTP",
            "proxy_protocol_v2": false,
            "slow_start": 0,
            "stickiness": [
              {
                "cookie_duration": 86400,
                "enabled": false,
                "type": "lb_cookie"
              }
            ],
            "tags": {},
            "target_type": "ip",
            "vpc_id": "vpc-0648f6ee3beb5d737"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.vpc.aws_vpc.main"
          ]
        }
      ]
    },
    {
      "module": "module.ecs_queue_auto_scaling",
      "mode": "managed",
      "type": "aws_appautoscaling_policy",
      "name": "main_scale_down",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:autoscaling:ap-southeast-1:611922433325:scalingPolicy:f9e7a24a-04bc-429d-ad30-c3204db62688:resource/ecs/service/ECS-Queue/ECS-Queue:policyName/ECS-Queue-scale-down",
            "id": "ECS-Queue-scale-down",
            "name": "ECS-Queue-scale-down",
            "policy_type": "StepScaling",
            "resource_id": "service/ECS-Queue/ECS-Queue",
            "scalable_dimension": "ecs:service:DesiredCount",
            "service_namespace": "ecs",
            "step_scaling_policy_configuration": [
              {
                "adjustment_type": "ChangeInCapacity",
                "cooldown": 300,
                "metric_aggregation_type": "Average",
                "min_adjustment_magnitude": 0,
                "step_adjustment": [
                  {
                    "metric_interval_lower_bound": "",
                    "metric_interval_upper_bound": "0",
                    "scaling_adjustment": -1
                  }
                ]
              }
            ],
            "target_tracking_scaling_policy_configuration": []
          },
          "private": "bnVsbA==",
          "dependencies": [
            "data.template_file.ecs_queue",
            "module.ecs_queue.aws_ecs_cluster.main",
            "module.ecs_queue.aws_ecs_service.main",
            "module.ecs_queue.aws_ecs_task_definition.main",
            "module.ecs_queue_auto_scaling.aws_appautoscaling_target.main",
            "module.iam_ecs.aws_iam_role.ecs_task_assume_role",
            "module.iam_ecs.aws_iam_role.ecs_task_exec_role",
            "module.sg.aws_security_group.ecs",
            "module.vpc.aws_subnet.publics",
            "module.vpc.data.aws_availability_zones.available"
          ]
        }
      ]
    },
    {
      "module": "module.ecs_fargate_auto_scaling",
      "mode": "managed",
      "type": "aws_appautoscaling_policy",
      "name": "main_scale_down",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:autoscaling:ap-southeast-1:611922433325:scalingPolicy:80d0e5ef-bc36-4966-a722-0c97bf352fe6:resource/ecs/service/VTENH-fargate/VTENH-fargate:policyName/VTENH-fargate-scale-down",
            "id": "VTENH-fargate-scale-down",
            "name": "VTENH-fargate-scale-down",
            "policy_type": "StepScaling",
            "resource_id": "service/VTENH-fargate/VTENH-fargate",
            "scalable_dimension": "ecs:service:DesiredCount",
            "service_namespace": "ecs",
            "step_scaling_policy_configuration": [
              {
                "adjustment_type": "ChangeInCapacity",
                "cooldown": 300,
                "metric_aggregation_type": "Average",
                "min_adjustment_magnitude": 0,
                "step_adjustment": [
                  {
                    "metric_interval_lower_bound": "",
                    "metric_interval_upper_bound": "0",
                    "scaling_adjustment": -1
                  }
                ]
              }
            ],
            "target_tracking_scaling_policy_configuration": []
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.ecs_fargate.aws_ecs_cluster.main",
            "module.ecs_fargate.aws_ecs_service.main",
            "module.ecs_fargate.aws_ecs_task_definition.main",
            "module.ecs_fargate_alb.aws_alb_target_group.main",
            "module.ecs_fargate_auto_scaling.aws_appautoscaling_target.main",
            "module.sg.aws_security_group.ecs",
            "module.vpc.aws_subnet.publics",
            "module.vpc.data.aws_availability_zones.available"
          ]
        }
      ]
    },
    {
      "module": "module.ecs_queue_auto_scaling",
      "mode": "managed",
      "type": "aws_appautoscaling_policy",
      "name": "main_scale_up",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:autoscaling:ap-southeast-1:611922433325:scalingPolicy:f9e7a24a-04bc-429d-ad30-c3204db62688:resource/ecs/service/ECS-Queue/ECS-Queue:policyName/ECS-Queue-scale-up",
            "id": "ECS-Queue-scale-up",
            "name": "ECS-Queue-scale-up",
            "policy_type": "StepScaling",
            "resource_id": "service/ECS-Queue/ECS-Queue",
            "scalable_dimension": "ecs:service:DesiredCount",
            "service_namespace": "ecs",
            "step_scaling_policy_configuration": [
              {
                "adjustment_type": "ChangeInCapacity",
                "cooldown": 300,
                "metric_aggregation_type": "Average",
                "min_adjustment_magnitude": 0,
                "step_adjustment": [
                  {
                    "metric_interval_lower_bound": "0",
                    "metric_interval_upper_bound": "",
                    "scaling_adjustment": 1
                  }
                ]
              }
            ],
            "target_tracking_scaling_policy_configuration": []
          },
          "private": "bnVsbA==",
          "dependencies": [
            "data.template_file.ecs_queue",
            "module.ecs_queue.aws_ecs_cluster.main",
            "module.ecs_queue.aws_ecs_service.main",
            "module.ecs_queue.aws_ecs_task_definition.main",
            "module.ecs_queue_auto_scaling.aws_appautoscaling_target.main",
            "module.iam_ecs.aws_iam_role.ecs_task_assume_role",
            "module.iam_ecs.aws_iam_role.ecs_task_exec_role",
            "module.sg.aws_security_group.ecs",
            "module.vpc.aws_subnet.publics",
            "module.vpc.data.aws_availability_zones.available"
          ]
        }
      ]
    },
    {
      "module": "module.ecs_fargate_auto_scaling",
      "mode": "managed",
      "type": "aws_appautoscaling_policy",
      "name": "main_scale_up",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:autoscaling:ap-southeast-1:611922433325:scalingPolicy:80d0e5ef-bc36-4966-a722-0c97bf352fe6:resource/ecs/service/VTENH-fargate/VTENH-fargate:policyName/VTENH-fargate-scale-up",
            "id": "VTENH-fargate-scale-up",
            "name": "VTENH-fargate-scale-up",
            "policy_type": "StepScaling",
            "resource_id": "service/VTENH-fargate/VTENH-fargate",
            "scalable_dimension": "ecs:service:DesiredCount",
            "service_namespace": "ecs",
            "step_scaling_policy_configuration": [
              {
                "adjustment_type": "ChangeInCapacity",
                "cooldown": 300,
                "metric_aggregation_type": "Average",
                "min_adjustment_magnitude": 0,
                "step_adjustment": [
                  {
                    "metric_interval_lower_bound": "0",
                    "metric_interval_upper_bound": "",
                    "scaling_adjustment": 1
                  }
                ]
              }
            ],
            "target_tracking_scaling_policy_configuration": []
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.ecs_fargate.aws_ecs_cluster.main",
            "module.ecs_fargate.aws_ecs_service.main",
            "module.ecs_fargate.aws_ecs_task_definition.main",
            "module.ecs_fargate_alb.aws_alb_target_group.main",
            "module.ecs_fargate_auto_scaling.aws_appautoscaling_target.main",
            "module.sg.aws_security_group.ecs",
            "module.vpc.aws_subnet.publics",
            "module.vpc.data.aws_availability_zones.available"
          ]
        }
      ]
    },
    {
      "module": "module.ecs_queue_auto_scaling",
      "mode": "managed",
      "type": "aws_appautoscaling_target",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "service/ECS-Queue/ECS-Queue",
            "max_capacity": 2,
            "min_capacity": 1,
            "resource_id": "service/ECS-Queue/ECS-Queue",
            "role_arn": "arn:aws:iam::611922433325:role/aws-service-role/ecs.application-autoscaling.amazonaws.com/AWSServiceRoleForApplicationAutoScaling_ECSService",
            "scalable_dimension": "ecs:service:DesiredCount",
            "service_namespace": "ecs"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "data.template_file.ecs_queue",
            "module.ecs_queue.aws_ecs_cluster.main",
            "module.ecs_queue.aws_ecs_service.main",
            "module.ecs_queue.aws_ecs_task_definition.main",
            "module.iam_ecs.aws_iam_role.ecs_task_assume_role",
            "module.iam_ecs.aws_iam_role.ecs_task_exec_role",
            "module.sg.aws_security_group.ecs",
            "module.vpc.aws_subnet.publics",
            "module.vpc.data.aws_availability_zones.available"
          ]
        }
      ]
    },
    {
      "module": "module.ecs_fargate_auto_scaling",
      "mode": "managed",
      "type": "aws_appautoscaling_target",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "service/VTENH-fargate/VTENH-fargate",
            "max_capacity": 8,
            "min_capacity": 2,
            "resource_id": "service/VTENH-fargate/VTENH-fargate",
            "role_arn": "arn:aws:iam::611922433325:role/aws-service-role/ecs.application-autoscaling.amazonaws.com/AWSServiceRoleForApplicationAutoScaling_ECSService",
            "scalable_dimension": "ecs:service:DesiredCount",
            "service_namespace": "ecs"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.ecs_fargate.aws_ecs_cluster.main",
            "module.ecs_fargate.aws_ecs_service.main",
            "module.ecs_fargate.aws_ecs_task_definition.main",
            "module.ecs_fargate_alb.aws_alb_target_group.main",
            "module.sg.aws_security_group.ecs",
            "module.vpc.aws_subnet.publics",
            "module.vpc.data.aws_availability_zones.available"
          ]
        }
      ]
    },
    {
      "module": "module.ecs_scheduele_cron",
      "mode": "managed",
      "type": "aws_cloudwatch_event_rule",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:events:ap-southeast-1:611922433325:rule/sitemap-rule",
            "description": "",
            "event_bus_name": "default",
            "event_pattern": null,
            "id": "sitemap-rule",
            "is_enabled": true,
            "name": "sitemap-rule",
            "name_prefix": "",
            "role_arn": "",
            "schedule_expression": "cron(0 17 * * ? *)",
            "tags": {}
          },
          "private": "bnVsbA==",
          "dependencies": [
            "data.template_file.session_store_ttl",
            "data.template_file.sitemap"
          ]
        },
        {
          "index_key": 1,
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:events:ap-southeast-1:611922433325:rule/session_store_ttl-rule",
            "description": "",
            "event_bus_name": "default",
            "event_pattern": null,
            "id": "session_store_ttl-rule",
            "is_enabled": true,
            "name": "session_store_ttl-rule",
            "name_prefix": "",
            "role_arn": "",
            "schedule_expression": "cron(0 17 * * ? *)",
            "tags": {}
          },
          "private": "bnVsbA==",
          "dependencies": [
            "data.template_file.session_store_ttl",
            "data.template_file.sitemap"
          ]
        }
      ]
    },
    {
      "module": "module.ecs_scheduele_cron",
      "mode": "managed",
      "type": "aws_cloudwatch_event_target",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ecs:ap-southeast-1:611922433325:cluster/VTENH-cron",
            "batch_target": [],
            "ecs_target": [
              {
                "group": "",
                "launch_type": "FARGATE",
                "network_configuration": [
                  {
                    "assign_public_ip": false,
                    "security_groups": [
                      "sg-0b8f764c7f3bf5570"
                    ],
                    "subnets": [
                      "subnet-00d27e777eecc58cf",
                      "subnet-022f6d81a2f575246",
                      "subnet-0aea1f2e169b9f30c"
                    ]
                  }
                ],
                "platform_version": "",
                "task_count": 1,
                "task_definition_arn": "arn:aws:ecs:ap-southeast-1:611922433325:task-definition/sitemap:53"
              }
            ],
            "event_bus_name": "default",
            "id": "sitemap-rule-sitemap_scheduleed_task",
            "input": "",
            "input_path": "",
            "input_transformer": [],
            "kinesis_target": [],
            "role_arn": "arn:aws:iam::611922433325:role/VTENH-cron",
            "rule": "sitemap-rule",
            "run_command_targets": [],
            "sqs_target": [],
            "target_id": "sitemap_scheduleed_task"
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "data.template_file.session_store_ttl",
            "data.template_file.sitemap",
            "module.ecs_scheduele_cron.aws_cloudwatch_event_rule.main",
            "module.ecs_scheduele_cron.aws_ecs_cluster.main",
            "module.ecs_scheduele_cron.aws_ecs_task_definition.main",
            "module.ecs_scheduele_cron.aws_iam_role.main",
            "module.iam_ecs.aws_iam_role.ecs_task_assume_role",
            "module.iam_ecs.aws_iam_role.ecs_task_exec_role",
            "module.sg.aws_security_group.ecs",
            "module.vpc.aws_subnet.privates",
            "module.vpc.data.aws_availability_zones.available"
          ]
        },
        {
          "index_key": 1,
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ecs:ap-southeast-1:611922433325:cluster/VTENH-cron",
            "batch_target": [],
            "ecs_target": [
              {
                "group": "",
                "launch_type": "FARGATE",
                "network_configuration": [
                  {
                    "assign_public_ip": false,
                    "security_groups": [
                      "sg-0b8f764c7f3bf5570"
                    ],
                    "subnets": [
                      "subnet-00d27e777eecc58cf",
                      "subnet-022f6d81a2f575246",
                      "subnet-0aea1f2e169b9f30c"
                    ]
                  }
                ],
                "platform_version": "",
                "task_count": 1,
                "task_definition_arn": "arn:aws:ecs:ap-southeast-1:611922433325:task-definition/session_store_ttl:53"
              }
            ],
            "event_bus_name": "default",
            "id": "session_store_ttl-rule-session_store_ttl_scheduleed_task",
            "input": "",
            "input_path": "",
            "input_transformer": [],
            "kinesis_target": [],
            "role_arn": "arn:aws:iam::611922433325:role/VTENH-cron",
            "rule": "session_store_ttl-rule",
            "run_command_targets": [],
            "sqs_target": [],
            "target_id": "session_store_ttl_scheduleed_task"
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "data.template_file.session_store_ttl",
            "data.template_file.sitemap",
            "module.ecs_scheduele_cron.aws_cloudwatch_event_rule.main",
            "module.ecs_scheduele_cron.aws_ecs_cluster.main",
            "module.ecs_scheduele_cron.aws_ecs_task_definition.main",
            "module.ecs_scheduele_cron.aws_iam_role.main",
            "module.iam_ecs.aws_iam_role.ecs_task_assume_role",
            "module.iam_ecs.aws_iam_role.ecs_task_exec_role",
            "module.sg.aws_security_group.ecs",
            "module.vpc.aws_subnet.privates",
            "module.vpc.data.aws_availability_zones.available"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_cloudwatch_log_group",
      "name": "cron",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:logs:ap-southeast-1:611922433325:log-group:/ecs/cron20210211040530723800000002",
            "id": "/ecs/cron20210211040530723800000002",
            "kms_key_id": "",
            "name": "/ecs/cron20210211040530723800000002",
            "name_prefix": "/ecs/cron",
            "retention_in_days": 7,
            "tags": {
              "ecs_schedule_task_log": "cron"
            }
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_cloudwatch_log_group",
      "name": "ecs_queue",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:logs:ap-southeast-1:611922433325:log-group:/ecs/vtenh-queue",
            "id": "/ecs/vtenh-queue",
            "kms_key_id": "",
            "name": "/ecs/vtenh-queue",
            "name_prefix": null,
            "retention_in_days": 7,
            "tags": {
              "ecs_queue_log": "ecs_queue"
            }
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_cloudwatch_log_group",
      "name": "fargate",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:logs:ap-southeast-1:611922433325:log-group:/ecs/vtenh-web",
            "id": "/ecs/vtenh-web",
            "kms_key_id": "",
            "name": "/ecs/vtenh-web",
            "name_prefix": null,
            "retention_in_days": 7,
            "tags": {
              "ecs_fargate_log": "fargate"
            }
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_cloudwatch_log_group",
      "name": "migration",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:logs:ap-southeast-1:611922433325:log-group:/ecs/migration20210119150713572800000002",
            "id": "/ecs/migration20210119150713572800000002",
            "kms_key_id": "",
            "name": "/ecs/migration20210119150713572800000002",
            "name_prefix": "/ecs/migration",
            "retention_in_days": 7,
            "tags": {
              "ecs_schedule_task_log": "migration"
            }
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.ecs_queue_auto_scaling",
      "mode": "managed",
      "type": "aws_cloudwatch_metric_alarm",
      "name": "cpu_high",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 1,
          "attributes": {
            "actions_enabled": true,
            "alarm_actions": [
              "arn:aws:autoscaling:ap-southeast-1:611922433325:scalingPolicy:f9e7a24a-04bc-429d-ad30-c3204db62688:resource/ecs/service/ECS-Queue/ECS-Queue:policyName/ECS-Queue-scale-up"
            ],
            "alarm_description": "",
            "alarm_name": "ECS-Queue-High CPU",
            "arn": "arn:aws:cloudwatch:ap-southeast-1:611922433325:alarm:ECS-Queue-High CPU",
            "comparison_operator": "GreaterThanOrEqualToThreshold",
            "datapoints_to_alarm": 0,
            "dimensions": {
              "ClusterName": "ECS-Queue",
              "ServiceName": "ECS-Queue"
            },
            "evaluate_low_sample_count_percentiles": "",
            "evaluation_periods": 1,
            "extended_statistic": "",
            "id": "ECS-Queue-High CPU",
            "insufficient_data_actions": [],
            "metric_name": "CPUUtilization",
            "metric_query": [],
            "namespace": "AWS/ECS",
            "ok_actions": [],
            "period": 60,
            "statistic": "Average",
            "tags": {},
            "threshold": 80,
            "threshold_metric_id": "",
            "treat_missing_data": "missing",
            "unit": ""
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "module.ecs_queue.aws_ecs_cluster.main",
            "module.ecs_queue.aws_ecs_service.main",
            "module.ecs_queue_auto_scaling.aws_appautoscaling_policy.main_scale_up"
          ]
        }
      ]
    },
    {
      "module": "module.ecs_fargate_auto_scaling",
      "mode": "managed",
      "type": "aws_cloudwatch_metric_alarm",
      "name": "cpu_high",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 1,
          "attributes": {
            "actions_enabled": true,
            "alarm_actions": [
              "arn:aws:autoscaling:ap-southeast-1:611922433325:scalingPolicy:80d0e5ef-bc36-4966-a722-0c97bf352fe6:resource/ecs/service/VTENH-fargate/VTENH-fargate:policyName/VTENH-fargate-scale-up"
            ],
            "alarm_description": "",
            "alarm_name": "VTENH-fargate-High CPU",
            "arn": "arn:aws:cloudwatch:ap-southeast-1:611922433325:alarm:VTENH-fargate-High CPU",
            "comparison_operator": "GreaterThanOrEqualToThreshold",
            "datapoints_to_alarm": 0,
            "dimensions": {
              "ClusterName": "VTENH-fargate",
              "ServiceName": "VTENH-fargate"
            },
            "evaluate_low_sample_count_percentiles": "",
            "evaluation_periods": 1,
            "extended_statistic": "",
            "id": "VTENH-fargate-High CPU",
            "insufficient_data_actions": [],
            "metric_name": "CPUUtilization",
            "metric_query": [],
            "namespace": "AWS/ECS",
            "ok_actions": [],
            "period": 60,
            "statistic": "Average",
            "tags": {},
            "threshold": 80,
            "threshold_metric_id": "",
            "treat_missing_data": "missing",
            "unit": ""
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "module.ecs_fargate.aws_ecs_cluster.main",
            "module.ecs_fargate.aws_ecs_service.main",
            "module.ecs_fargate.aws_ecs_task_definition.main",
            "module.ecs_fargate_alb.aws_alb_target_group.main",
            "module.ecs_fargate_auto_scaling.aws_appautoscaling_policy.main_scale_up",
            "module.sg.aws_security_group.ecs",
            "module.vpc.aws_subnet.publics",
            "module.vpc.data.aws_availability_zones.available"
          ]
        }
      ]
    },
    {
      "module": "module.ecs_queue_auto_scaling",
      "mode": "managed",
      "type": "aws_cloudwatch_metric_alarm",
      "name": "cpu_low",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 1,
          "attributes": {
            "actions_enabled": true,
            "alarm_actions": [
              "arn:aws:autoscaling:ap-southeast-1:611922433325:scalingPolicy:f9e7a24a-04bc-429d-ad30-c3204db62688:resource/ecs/service/ECS-Queue/ECS-Queue:policyName/ECS-Queue-scale-down"
            ],
            "alarm_description": "",
            "alarm_name": "ECS-Queue-Low CPU",
            "arn": "arn:aws:cloudwatch:ap-southeast-1:611922433325:alarm:ECS-Queue-Low CPU",
            "comparison_operator": "LessThanOrEqualToThreshold",
            "datapoints_to_alarm": 0,
            "dimensions": {
              "ClusterName": "ECS-Queue",
              "ServiceName": "ECS-Queue"
            },
            "evaluate_low_sample_count_percentiles": "",
            "evaluation_periods": 1,
            "extended_statistic": "",
            "id": "ECS-Queue-Low CPU",
            "insufficient_data_actions": [],
            "metric_name": "CPUUtilization",
            "metric_query": [],
            "namespace": "AWS/ECS",
            "ok_actions": [],
            "period": 300,
            "statistic": "Average",
            "tags": {},
            "threshold": 10,
            "threshold_metric_id": "",
            "treat_missing_data": "missing",
            "unit": ""
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "module.ecs_queue.aws_ecs_cluster.main",
            "module.ecs_queue.aws_ecs_service.main",
            "module.ecs_queue_auto_scaling.aws_appautoscaling_policy.main_scale_down"
          ]
        }
      ]
    },
    {
      "module": "module.ecs_fargate_auto_scaling",
      "mode": "managed",
      "type": "aws_cloudwatch_metric_alarm",
      "name": "cpu_low",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 1,
          "attributes": {
            "actions_enabled": true,
            "alarm_actions": [
              "arn:aws:autoscaling:ap-southeast-1:611922433325:scalingPolicy:80d0e5ef-bc36-4966-a722-0c97bf352fe6:resource/ecs/service/VTENH-fargate/VTENH-fargate:policyName/VTENH-fargate-scale-down"
            ],
            "alarm_description": "",
            "alarm_name": "VTENH-fargate-Low CPU",
            "arn": "arn:aws:cloudwatch:ap-southeast-1:611922433325:alarm:VTENH-fargate-Low CPU",
            "comparison_operator": "LessThanOrEqualToThreshold",
            "datapoints_to_alarm": 0,
            "dimensions": {
              "ClusterName": "VTENH-fargate",
              "ServiceName": "VTENH-fargate"
            },
            "evaluate_low_sample_count_percentiles": "",
            "evaluation_periods": 1,
            "extended_statistic": "",
            "id": "VTENH-fargate-Low CPU",
            "insufficient_data_actions": [],
            "metric_name": "CPUUtilization",
            "metric_query": [],
            "namespace": "AWS/ECS",
            "ok_actions": [],
            "period": 300,
            "statistic": "Average",
            "tags": {},
            "threshold": 10,
            "threshold_metric_id": "",
            "treat_missing_data": "missing",
            "unit": ""
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "module.ecs_fargate.aws_ecs_cluster.main",
            "module.ecs_fargate.aws_ecs_service.main",
            "module.ecs_fargate.aws_ecs_task_definition.main",
            "module.ecs_fargate_alb.aws_alb_target_group.main",
            "module.ecs_fargate_auto_scaling.aws_appautoscaling_policy.main_scale_down",
            "module.sg.aws_security_group.ecs",
            "module.vpc.aws_subnet.publics",
            "module.vpc.data.aws_availability_zones.available"
          ]
        }
      ]
    },
    {
      "module": "module.rds",
      "mode": "managed",
      "type": "aws_db_instance",
      "name": "postgresql",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "address": "db-postgresql.cwavjegnholw.ap-southeast-1.rds.amazonaws.com",
            "allocated_storage": 20,
            "allow_major_version_upgrade": null,
            "apply_immediately": null,
            "arn": "arn:aws:rds:ap-southeast-1:611922433325:db:db-postgresql",
            "auto_minor_version_upgrade": true,
            "availability_zone": "ap-southeast-1b",
            "backup_retention_period": 7,
            "backup_window": "18:21-18:51",
            "ca_cert_identifier": "rds-ca-2019",
            "character_set_name": null,
            "copy_tags_to_snapshot": false,
            "db_subnet_group_name": "main20201225041906180700000001",
            "delete_automated_backups": true,
            "deletion_protection": true,
            "domain": "",
            "domain_iam_role_name": "",
            "enabled_cloudwatch_logs_exports": [
              "postgresql"
            ],
            "endpoint": "db-postgresql.cwavjegnholw.ap-southeast-1.rds.amazonaws.com:5432",
            "engine": "postgres",
            "engine_version": "12.5",
            "final_snapshot_identifier": "db-postgresql",
            "hosted_zone_id": "Z2G0U3KFCY8NZ5",
            "iam_database_authentication_enabled": false,
            "id": "db-postgresql",
            "identifier": "db-postgresql",
            "identifier_prefix": null,
            "instance_class": "db.t3.medium",
            "iops": 0,
            "kms_key_id": "",
            "latest_restorable_time": "2021-05-04T15:23:11Z",
            "license_model": "postgresql-license",
            "maintenance_window": "sat:16:22-sat:16:52",
            "max_allocated_storage": 200,
            "monitoring_interval": 0,
            "monitoring_role_arn": "",
            "multi_az": true,
            "name": "vtenh",
            "option_group_name": "default:postgres-12",
            "parameter_group_name": "default.postgres12",
            "password": "vtenh9ZOZI",
            "performance_insights_enabled": true,
            "performance_insights_kms_key_id": "arn:aws:kms:ap-southeast-1:611922433325:key/c19b0b8d-a03c-42b2-8d7d-5fb8a60eb497",
            "performance_insights_retention_period": 7,
            "port": 5432,
            "publicly_accessible": false,
            "replicas": [
              "db-postgresql-data"
            ],
            "replicate_source_db": "",
            "resource_id": "db-WFWI6U6QDPNW3F4H6TROHMDRGI",
            "restore_to_point_in_time": [],
            "s3_import": [],
            "security_group_names": [],
            "skip_final_snapshot": false,
            "snapshot_identifier": null,
            "status": "available",
            "storage_encrypted": false,
            "storage_type": "gp2",
            "tags": {},
            "timeouts": null,
            "timezone": "",
            "username": "vtenh",
            "vpc_security_group_ids": [
              "sg-089d9e2f601639325"
            ]
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoyNDAwMDAwMDAwMDAwLCJkZWxldGUiOjM2MDAwMDAwMDAwMDAsInVwZGF0ZSI6NDgwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "module.rds.aws_db_subnet_group.main",
            "module.rds.aws_kms_key.insight_key",
            "module.rds.data.aws_rds_engine_version.postgresql",
            "module.sg.aws_security_group.postgresql"
          ]
        }
      ]
    },
    {
      "module": "module.rds",
      "mode": "managed",
      "type": "aws_db_instance",
      "name": "postgresql_replica",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 1,
          "attributes": {
            "address": "db-postgresql-data.cwavjegnholw.ap-southeast-1.rds.amazonaws.com",
            "allocated_storage": 20,
            "allow_major_version_upgrade": null,
            "apply_immediately": null,
            "arn": "arn:aws:rds:ap-southeast-1:611922433325:db:db-postgresql-data",
            "auto_minor_version_upgrade": true,
            "availability_zone": "ap-southeast-1c",
            "backup_retention_period": 0,
            "backup_window": "18:21-18:51",
            "ca_cert_identifier": "rds-ca-2019",
            "character_set_name": null,
            "copy_tags_to_snapshot": false,
            "db_subnet_group_name": "main20201225041906180700000001",
            "delete_automated_backups": true,
            "deletion_protection": false,
            "domain": "",
            "domain_iam_role_name": "",
            "enabled_cloudwatch_logs_exports": [
              "postgresql"
            ],
            "endpoint": "db-postgresql-data.cwavjegnholw.ap-southeast-1.rds.amazonaws.com:5432",
            "engine": "postgres",
            "engine_version": "12.5",
            "final_snapshot_identifier": null,
            "hosted_zone_id": "Z2G0U3KFCY8NZ5",
            "iam_database_authentication_enabled": false,
            "id": "db-postgresql-data",
            "identifier": "db-postgresql-data",
            "identifier_prefix": null,
            "instance_class": "db.t3.micro",
            "iops": 0,
            "kms_key_id": "",
            "latest_restorable_time": "0001-01-01T00:00:00Z",
            "license_model": "postgresql-license",
            "maintenance_window": "sat:16:22-sat:16:52",
            "max_allocated_storage": 200,
            "monitoring_interval": 0,
            "monitoring_role_arn": "",
            "multi_az": true,
            "name": "vtenh",
            "option_group_name": "default:postgres-12",
            "parameter_group_name": "default.postgres12",
            "password": "",
            "performance_insights_enabled": true,
            "performance_insights_kms_key_id": "arn:aws:kms:ap-southeast-1:611922433325:key/c19b0b8d-a03c-42b2-8d7d-5fb8a60eb497",
            "performance_insights_retention_period": 7,
            "port": 5432,
            "publicly_accessible": false,
            "replicas": [],
            "replicate_source_db": "db-postgresql",
            "resource_id": "db-LIWVJ4DYMKEHRAG47CA6TYBAJU",
            "restore_to_point_in_time": [],
            "s3_import": [],
            "security_group_names": [],
            "skip_final_snapshot": false,
            "snapshot_identifier": null,
            "status": "available",
            "storage_encrypted": false,
            "storage_type": "gp2",
            "tags": {},
            "timeouts": null,
            "timezone": "",
            "username": "vtenh",
            "vpc_security_group_ids": [
              "sg-081cf7d783687f7f2"
            ]
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoyNDAwMDAwMDAwMDAwLCJkZWxldGUiOjM2MDAwMDAwMDAwMDAsInVwZGF0ZSI6NDgwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "module.rds.aws_db_instance.postgresql",
            "module.rds.aws_kms_key.insight_key",
            "module.sg.aws_security_group.postgresql_replica"
          ]
        }
      ]
    },
    {
      "module": "module.rds",
      "mode": "managed",
      "type": "aws_db_subnet_group",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:rds:ap-southeast-1:611922433325:subgrp:main20201225041906180700000001",
            "description": "Managed by Terraform",
            "id": "main20201225041906180700000001",
            "name": "main20201225041906180700000001",
            "name_prefix": "main",
            "subnet_ids": [
              "subnet-00d27e777eecc58cf",
              "subnet-022f6d81a2f575246",
              "subnet-0aea1f2e169b9f30c"
            ],
            "tags": {
              "Name": "RDS subnet group"
            }
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.vpc.aws_subnet.privates",
            "module.vpc.data.aws_availability_zones.available"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_ecr_repository",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ecr:ap-southeast-1:611922433325:repository/vtenh",
            "encryption_configuration": [
              {
                "encryption_type": "AES256",
                "kms_key": ""
              }
            ],
            "id": "vtenh",
            "image_scanning_configuration": [
              {
                "scan_on_push": true
              }
            ],
            "image_tag_mutability": "MUTABLE",
            "name": "vtenh",
            "registry_id": "611922433325",
            "repository_url": "611922433325.dkr.ecr.ap-southeast-1.amazonaws.com/vtenh",
            "tags": {},
            "timeouts": null
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjoxMjAwMDAwMDAwMDAwfX0="
        }
      ]
    },
    {
      "module": "module.ecs_scheduele_cron",
      "mode": "managed",
      "type": "aws_ecs_cluster",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ecs:ap-southeast-1:611922433325:cluster/VTENH-cron",
            "capacity_providers": [],
            "default_capacity_provider_strategy": [],
            "id": "arn:aws:ecs:ap-southeast-1:611922433325:cluster/VTENH-cron",
            "name": "VTENH-cron",
            "setting": [
              {
                "name": "containerInsights",
                "value": "disabled"
              }
            ],
            "tags": {}
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.ecs_queue",
      "mode": "managed",
      "type": "aws_ecs_cluster",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ecs:ap-southeast-1:611922433325:cluster/ECS-Queue",
            "capacity_providers": [],
            "default_capacity_provider_strategy": [],
            "id": "arn:aws:ecs:ap-southeast-1:611922433325:cluster/ECS-Queue",
            "name": "ECS-Queue",
            "setting": [
              {
                "name": "containerInsights",
                "value": "enabled"
              }
            ],
            "tags": {}
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.ecs_fargate",
      "mode": "managed",
      "type": "aws_ecs_cluster",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ecs:ap-southeast-1:611922433325:cluster/VTENH-fargate",
            "capacity_providers": [],
            "default_capacity_provider_strategy": [],
            "id": "arn:aws:ecs:ap-southeast-1:611922433325:cluster/VTENH-fargate",
            "name": "VTENH-fargate",
            "setting": [
              {
                "name": "containerInsights",
                "value": "enabled"
              }
            ],
            "tags": {}
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.ecs_queue",
      "mode": "managed",
      "type": "aws_ecs_service",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "capacity_provider_strategy": [],
            "cluster": "arn:aws:ecs:ap-southeast-1:611922433325:cluster/ECS-Queue",
            "deployment_controller": [
              {
                "type": "ECS"
              }
            ],
            "deployment_maximum_percent": 200,
            "deployment_minimum_healthy_percent": 100,
            "desired_count": 1,
            "enable_ecs_managed_tags": false,
            "force_new_deployment": null,
            "health_check_grace_period_seconds": 0,
            "iam_role": "aws-service-role",
            "id": "arn:aws:ecs:ap-southeast-1:611922433325:service/ECS-Queue/ECS-Queue",
            "launch_type": "FARGATE",
            "load_balancer": [],
            "name": "ECS-Queue",
            "network_configuration": [
              {
                "assign_public_ip": true,
                "security_groups": [
                  "sg-0b8f764c7f3bf5570"
                ],
                "subnets": [
                  "subnet-0537278cba0fe9a9b",
                  "subnet-07f858c291d262ae0",
                  "subnet-0b390072549da094e"
                ]
              }
            ],
            "ordered_placement_strategy": [],
            "placement_constraints": [],
            "platform_version": "LATEST",
            "propagate_tags": "NONE",
            "scheduling_strategy": "REPLICA",
            "service_registries": [],
            "tags": {},
            "task_definition": "arn:aws:ecs:ap-southeast-1:611922433325:task-definition/ECS-Queue:60",
            "timeouts": null,
            "wait_for_steady_state": false
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjoxMjAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "data.template_file.ecs_queue",
            "module.ecs_queue.aws_ecs_cluster.main",
            "module.ecs_queue.aws_ecs_task_definition.main",
            "module.iam_ecs.aws_iam_role.ecs_task_assume_role",
            "module.iam_ecs.aws_iam_role.ecs_task_exec_role",
            "module.sg.aws_security_group.ecs",
            "module.vpc.aws_subnet.publics",
            "module.vpc.data.aws_availability_zones.available"
          ]
        }
      ]
    },
    {
      "module": "module.ecs_fargate",
      "mode": "managed",
      "type": "aws_ecs_service",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "capacity_provider_strategy": [],
            "cluster": "arn:aws:ecs:ap-southeast-1:611922433325:cluster/VTENH-fargate",
            "deployment_controller": [
              {
                "type": "ECS"
              }
            ],
            "deployment_maximum_percent": 200,
            "deployment_minimum_healthy_percent": 100,
            "desired_count": 2,
            "enable_ecs_managed_tags": false,
            "force_new_deployment": null,
            "health_check_grace_period_seconds": 0,
            "iam_role": "aws-service-role",
            "id": "arn:aws:ecs:ap-southeast-1:611922433325:service/VTENH-fargate/VTENH-fargate",
            "launch_type": "FARGATE",
            "load_balancer": [
              {
                "container_name": "VTENH-fargate",
                "container_port": 80,
                "elb_name": "",
                "target_group_arn": "arn:aws:elasticloadbalancing:ap-southeast-1:611922433325:targetgroup/VTENH-fargate/a7147d581f76575a"
              }
            ],
            "name": "VTENH-fargate",
            "network_configuration": [
              {
                "assign_public_ip": true,
                "security_groups": [
                  "sg-0b8f764c7f3bf5570"
                ],
                "subnets": [
                  "subnet-0537278cba0fe9a9b",
                  "subnet-07f858c291d262ae0",
                  "subnet-0b390072549da094e"
                ]
              }
            ],
            "ordered_placement_strategy": [],
            "placement_constraints": [],
            "platform_version": "LATEST",
            "propagate_tags": "NONE",
            "scheduling_strategy": "REPLICA",
            "service_registries": [],
            "tags": {},
            "task_definition": "arn:aws:ecs:ap-southeast-1:611922433325:task-definition/VTENH-fargate:79",
            "timeouts": null,
            "wait_for_steady_state": false
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjoxMjAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "data.template_file.ecs_fargate",
            "module.ecs_fargate.aws_ecs_cluster.main",
            "module.ecs_fargate.aws_ecs_task_definition.main",
            "module.ecs_fargate_alb.aws_alb_target_group.main",
            "module.iam_ecs.aws_iam_role.ecs_task_assume_role",
            "module.iam_ecs.aws_iam_role.ecs_task_exec_role",
            "module.sg.aws_security_group.ecs",
            "module.vpc.aws_subnet.publics",
            "module.vpc.data.aws_availability_zones.available"
          ]
        }
      ]
    },
    {
      "module": "module.ecs_scheduele_cron",
      "mode": "managed",
      "type": "aws_ecs_task_definition",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ecs:ap-southeast-1:611922433325:task-definition/sitemap:53",
            "container_definitions": "[{\"command\":[\"/tmp/custom_script/task.sh\"],\"cpu\":512,\"environment\":[{\"name\":\"ACTIVE_STORAGE_CDN\",\"value\":\"https://assets-cdn.vtenh.com\"},{\"name\":\"APP_NAME\",\"value\":\"VTENH\"},{\"name\":\"ASSET_HOST_URL\",\"value\":\"https://assets-cdn.vtenh.com\"},{\"name\":\"AWS_BUCKET_NAME\",\"value\":\"vtenh\"},{\"name\":\"AWS_REGION\",\"value\":\"ap-southeast-1\"},{\"name\":\"DEFAULT_EMAIL_FOR_PAYMENT\",\"value\":\"info+aba@vtenh.com\"},{\"name\":\"DEFAULT_URL_HOST\",\"value\":\"https://www.vtenh.com\"},{\"name\":\"DEVISE_SECRET_KEY\",\"value\":\"e0f35eaaf8c617c5fd5ee18124ec640eb84273f5f72c12af00db89e4cf01244d66ce206a72356f78d14301552b587af07d59\"},{\"name\":\"ELASTICSEARCH_URL\",\"value\":\"https://elastic:7uTSwzJ8exuKdk3TNGtPIOXR@memory-optimized-deployment.es.ap-southeast-1.aws.found.io:9243\"},{\"name\":\"EXCEPTION_CHANNEL_ID\",\"value\":\"#production-exceptions\"},{\"name\":\"EXCEPTION_NOTIFY_ENABLE\",\"value\":\"yes\"},{\"name\":\"EXCEPTION_SLACK_WEBHOOK_URL\",\"value\":\"https://hooks.slack.com/services/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\"},{\"name\":\"FB_APP_ID\",\"value\":\"381496249527504\"},{\"name\":\"FIREBASE_PROJECT_ID\",\"value\":\"vtenh-46ed3\"},{\"name\":\"GOOGLE_TAG_MANAGER\",\"value\":\"GTM-5D7SNTB\"},{\"name\":\"MEMCACHE_SERVERS\",\"value\":\"memcached.4yy17c.cfg.apse1.cache.amazonaws.com:11211\"},{\"name\":\"MODE_ENV\",\"value\":\"task\"},{\"name\":\"PROTECTED_PASSWORD\",\"value\":\"\"},{\"name\":\"PROTECTED_USERNAME\",\"value\":\"\"},{\"name\":\"RAILS_ENV\",\"value\":\"production\"},{\"name\":\"RAILS_LOG_TO_STDOUT\",\"value\":\"1\"},{\"name\":\"RAILS_MASTER_KEY\",\"value\":\"327385331c545d6f54f090ccec015e9d\"},{\"name\":\"RAILS_MAX_INSTANCES\",\"value\":\"8\"},{\"name\":\"RAILS_MAX_THREADS\",\"value\":\"5\"},{\"name\":\"RAILS_MIN_INSTANCES\",\"value\":\"6\"},{\"name\":\"RAILS_TASK_NAME\",\"value\":\"sitemap:refresh\"},{\"name\":\"REDIS_URL\",\"value\":\"redis://redis.4yy17c.0001.apse1.cache.amazonaws.com:6379/1\"},{\"name\":\"SHOW_TOPBAR\",\"value\":\"yes\"},{\"name\":\"SIDEKIQ_PASSWORD\",\"value\":\"admin_queue@vtenh0102\"},{\"name\":\"SIDEKIQ_USERNAME\",\"value\":\"admin_queue\"},{\"name\":\"SMS_SENDER_ID\",\"value\":\"VTenh\"},{\"name\":\"SMTP_PASSWORD\",\"value\":\"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\"},{\"name\":\"SMTP_SERVER\",\"value\":\"smtp.sendgrid.net\"},{\"name\":\"SMTP_USERNAME\",\"value\":\"apikey\"},{\"name\":\"TIME_ZONE\",\"value\":\"Bangkok\"},{\"name\":\"TOUCH_REDEPLOY\",\"value\":\"2022-05-04 22:25:00\"},{\"name\":\"VSHOP_DB_HOST\",\"value\":\"db-postgresql.cwavjegnholw.ap-southeast-1.rds.amazonaws.com\"},{\"name\":\"VSHOP_DB_NAME\",\"value\":\"vtenh\"},{\"name\":\"VSHOP_DB_NAME_PRODUCTION\",\"value\":\"vtenh\"},{\"name\":\"VSHOP_DB_PASSWORD\",\"value\":\"vtenh9ZOZI\"},{\"name\":\"VSHOP_DB_USER\",\"value\":\"vtenh\"}],\"essential\":true,\"image\":\"611922433325.dkr.ecr.ap-southeast-1.amazonaws.com/vtenh\",\"logConfiguration\":{\"logDriver\":\"awslogs\",\"options\":{\"awslogs-create-group\":\"true\",\"awslogs-group\":\"/ecs/cron20210211040530723800000002\",\"awslogs-region\":\"ap-southeast-1\",\"awslogs-stream-prefix\":\"ecs\"}},\"memory\":1024,\"mountPoints\":[],\"name\":\"VTENH-cron\",\"portMappings\":[{\"containerPort\":80,\"hostPort\":80,\"protocol\":\"tcp\"},{\"containerPort\":22,\"hostPort\":22,\"protocol\":\"tcp\"}],\"secrets\":[{\"name\":\"SSH_PUBLIC_KEY\",\"valueFrom\":\"arn:aws:ssm:ap-southeast-1:611922433325:parameter/ssh_public_key\"}],\"volumesFrom\":[]}]",
            "cpu": "512",
            "execution_role_arn": "arn:aws:iam::611922433325:role/vtenh-task-exec20201225133458633000000003",
            "family": "sitemap",
            "id": "sitemap",
            "inference_accelerator": [],
            "ipc_mode": "",
            "memory": "1024",
            "network_mode": "awsvpc",
            "pid_mode": "",
            "placement_constraints": [],
            "proxy_configuration": [],
            "requires_compatibilities": [
              "FARGATE"
            ],
            "revision": 53,
            "tags": null,
            "task_role_arn": "arn:aws:iam::611922433325:role/vtenh-task",
            "volume": []
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "data.template_file.session_store_ttl",
            "data.template_file.sitemap",
            "module.iam_ecs.aws_iam_role.ecs_task_assume_role",
            "module.iam_ecs.aws_iam_role.ecs_task_exec_role"
          ]
        },
        {
          "index_key": 1,
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ecs:ap-southeast-1:611922433325:task-definition/session_store_ttl:53",
            "container_definitions": "[{\"command\":[\"/tmp/custom_script/task.sh\"],\"cpu\":512,\"environment\":[{\"name\":\"ACTIVE_STORAGE_CDN\",\"value\":\"https://assets-cdn.vtenh.com\"},{\"name\":\"APP_NAME\",\"value\":\"VTENH\"},{\"name\":\"ASSET_HOST_URL\",\"value\":\"https://assets-cdn.vtenh.com\"},{\"name\":\"AWS_BUCKET_NAME\",\"value\":\"vtenh\"},{\"name\":\"AWS_REGION\",\"value\":\"ap-southeast-1\"},{\"name\":\"DEFAULT_EMAIL_FOR_PAYMENT\",\"value\":\"info+aba@vtenh.com\"},{\"name\":\"DEFAULT_URL_HOST\",\"value\":\"https://www.vtenh.com\"},{\"name\":\"DEVISE_SECRET_KEY\",\"value\":\"e0f35eaaf8c617c5fd5ee18124ec640eb84273f5f72c12af00db89e4cf01244d66ce206a72356f78d14301552b587af07d59\"},{\"name\":\"ELASTICSEARCH_URL\",\"value\":\"https://elastic:7uTSwzJ8exuKdk3TNGtPIOXR@memory-optimized-deployment.es.ap-southeast-1.aws.found.io:9243\"},{\"name\":\"EXCEPTION_CHANNEL_ID\",\"value\":\"#production-exceptions\"},{\"name\":\"EXCEPTION_NOTIFY_ENABLE\",\"value\":\"yes\"},{\"name\":\"EXCEPTION_SLACK_WEBHOOK_URL\",\"value\":\"https://hooks.slack.com/services/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\"},{\"name\":\"FB_APP_ID\",\"value\":\"381496249527504\"},{\"name\":\"FIREBASE_PROJECT_ID\",\"value\":\"vtenh-46ed3\"},{\"name\":\"GOOGLE_TAG_MANAGER\",\"value\":\"GTM-5D7SNTB\"},{\"name\":\"MEMCACHE_SERVERS\",\"value\":\"memcached.4yy17c.cfg.apse1.cache.amazonaws.com:11211\"},{\"name\":\"MODE_ENV\",\"value\":\"task\"},{\"name\":\"PROTECTED_PASSWORD\",\"value\":\"\"},{\"name\":\"PROTECTED_USERNAME\",\"value\":\"\"},{\"name\":\"RAILS_ENV\",\"value\":\"production\"},{\"name\":\"RAILS_LOG_TO_STDOUT\",\"value\":\"1\"},{\"name\":\"RAILS_MASTER_KEY\",\"value\":\"327385331c545d6f54f090ccec015e9d\"},{\"name\":\"RAILS_MAX_INSTANCES\",\"value\":\"8\"},{\"name\":\"RAILS_MAX_THREADS\",\"value\":\"5\"},{\"name\":\"RAILS_MIN_INSTANCES\",\"value\":\"6\"},{\"name\":\"RAILS_TASK_NAME\",\"value\":\"db:sessions:trim\"},{\"name\":\"REDIS_URL\",\"value\":\"redis://redis.4yy17c.0001.apse1.cache.amazonaws.com:6379/1\"},{\"name\":\"SHOW_TOPBAR\",\"value\":\"yes\"},{\"name\":\"SIDEKIQ_PASSWORD\",\"value\":\"admin_queue@vtenh0102\"},{\"name\":\"SIDEKIQ_USERNAME\",\"value\":\"admin_queue\"},{\"name\":\"SMS_SENDER_ID\",\"value\":\"VTenh\"},{\"name\":\"SMTP_PASSWORD\",\"value\":\"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\"},{\"name\":\"SMTP_SERVER\",\"value\":\"smtp.sendgrid.net\"},{\"name\":\"SMTP_USERNAME\",\"value\":\"apikey\"},{\"name\":\"TIME_ZONE\",\"value\":\"Bangkok\"},{\"name\":\"TOUCH_REDEPLOY\",\"value\":\"2022-05-04 22:25:00\"},{\"name\":\"VSHOP_DB_HOST\",\"value\":\"db-postgresql.cwavjegnholw.ap-southeast-1.rds.amazonaws.com\"},{\"name\":\"VSHOP_DB_NAME\",\"value\":\"vtenh\"},{\"name\":\"VSHOP_DB_NAME_PRODUCTION\",\"value\":\"vtenh\"},{\"name\":\"VSHOP_DB_PASSWORD\",\"value\":\"vtenh9ZOZI\"},{\"name\":\"VSHOP_DB_USER\",\"value\":\"vtenh\"}],\"essential\":true,\"image\":\"611922433325.dkr.ecr.ap-southeast-1.amazonaws.com/vtenh\",\"logConfiguration\":{\"logDriver\":\"awslogs\",\"options\":{\"awslogs-create-group\":\"true\",\"awslogs-group\":\"/ecs/cron20210211040530723800000002\",\"awslogs-region\":\"ap-southeast-1\",\"awslogs-stream-prefix\":\"ecs\"}},\"memory\":1024,\"mountPoints\":[],\"name\":\"VTENH-cron\",\"portMappings\":[{\"containerPort\":80,\"hostPort\":80,\"protocol\":\"tcp\"},{\"containerPort\":22,\"hostPort\":22,\"protocol\":\"tcp\"}],\"secrets\":[{\"name\":\"SSH_PUBLIC_KEY\",\"valueFrom\":\"arn:aws:ssm:ap-southeast-1:611922433325:parameter/ssh_public_key\"}],\"volumesFrom\":[]}]",
            "cpu": "512",
            "execution_role_arn": "arn:aws:iam::611922433325:role/vtenh-task-exec20201225133458633000000003",
            "family": "session_store_ttl",
            "id": "session_store_ttl",
            "inference_accelerator": [],
            "ipc_mode": "",
            "memory": "1024",
            "network_mode": "awsvpc",
            "pid_mode": "",
            "placement_constraints": [],
            "proxy_configuration": [],
            "requires_compatibilities": [
              "FARGATE"
            ],
            "revision": 53,
            "tags": null,
            "task_role_arn": "arn:aws:iam::611922433325:role/vtenh-task",
            "volume": []
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "data.template_file.session_store_ttl",
            "data.template_file.sitemap",
            "module.iam_ecs.aws_iam_role.ecs_task_assume_role",
            "module.iam_ecs.aws_iam_role.ecs_task_exec_role"
          ]
        }
      ]
    },
    {
      "module": "module.ecs_queue",
      "mode": "managed",
      "type": "aws_ecs_task_definition",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ecs:ap-southeast-1:611922433325:task-definition/ECS-Queue:60",
            "container_definitions": "[{\"cpu\":512,\"environment\":[{\"name\":\"ACTIVE_STORAGE_CDN\",\"value\":\"https://assets-cdn.vtenh.com\"},{\"name\":\"APP_NAME\",\"value\":\"VTENH\"},{\"name\":\"ASSET_HOST_URL\",\"value\":\"https://assets-cdn.vtenh.com\"},{\"name\":\"AWS_BUCKET_NAME\",\"value\":\"vtenh\"},{\"name\":\"AWS_REGION\",\"value\":\"ap-southeast-1\"},{\"name\":\"DEFAULT_EMAIL_FOR_PAYMENT\",\"value\":\"info+aba@vtenh.com\"},{\"name\":\"DEFAULT_URL_HOST\",\"value\":\"https://www.vtenh.com\"},{\"name\":\"DEVISE_SECRET_KEY\",\"value\":\"e0f35eaaf8c617c5fd5ee18124ec640eb84273f5f72c12af00db89e4cf01244d66ce206a72356f78d14301552b587af07d59\"},{\"name\":\"ELASTICSEARCH_URL\",\"value\":\"https://elastic:7uTSwzJ8exuKdk3TNGtPIOXR@memory-optimized-deployment.es.ap-southeast-1.aws.found.io:9243\"},{\"name\":\"EXCEPTION_CHANNEL_ID\",\"value\":\"#production-exceptions\"},{\"name\":\"EXCEPTION_NOTIFY_ENABLE\",\"value\":\"yes\"},{\"name\":\"EXCEPTION_SLACK_WEBHOOK_URL\",\"value\":\"https://hooks.slack.com/services/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\"},{\"name\":\"FB_APP_ID\",\"value\":\"381496249527504\"},{\"name\":\"FIREBASE_PROJECT_ID\",\"value\":\"vtenh-46ed3\"},{\"name\":\"GOOGLE_TAG_MANAGER\",\"value\":\"GTM-5D7SNTB\"},{\"name\":\"MEMCACHE_SERVERS\",\"value\":\"memcached.4yy17c.cfg.apse1.cache.amazonaws.com:11211\"},{\"name\":\"MODE_ENV\",\"value\":\"queue\"},{\"name\":\"PROTECTED_PASSWORD\",\"value\":\"\"},{\"name\":\"PROTECTED_USERNAME\",\"value\":\"\"},{\"name\":\"RAILS_ENV\",\"value\":\"production\"},{\"name\":\"RAILS_LOG_TO_STDOUT\",\"value\":\"1\"},{\"name\":\"RAILS_MASTER_KEY\",\"value\":\"327385331c545d6f54f090ccec015e9d\"},{\"name\":\"RAILS_MAX_INSTANCES\",\"value\":\"8\"},{\"name\":\"RAILS_MAX_THREADS\",\"value\":\"25\"},{\"name\":\"RAILS_MIN_INSTANCES\",\"value\":\"6\"},{\"name\":\"RAILS_TASK_NAME\",\"value\":\"\"},{\"name\":\"REDIS_URL\",\"value\":\"redis://redis.4yy17c.0001.apse1.cache.amazonaws.com:6379/1\"},{\"name\":\"SHOW_TOPBAR\",\"value\":\"yes\"},{\"name\":\"SIDEKIQ_PASSWORD\",\"value\":\"admin_queue@vtenh0102\"},{\"name\":\"SIDEKIQ_USERNAME\",\"value\":\"admin_queue\"},{\"name\":\"SMS_SENDER_ID\",\"value\":\"VTenh\"},{\"name\":\"SMTP_PASSWORD\",\"value\":\"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\"},{\"name\":\"SMTP_SERVER\",\"value\":\"smtp.sendgrid.net\"},{\"name\":\"SMTP_USERNAME\",\"value\":\"apikey\"},{\"name\":\"TIME_ZONE\",\"value\":\"Bangkok\"},{\"name\":\"TOUCH_REDEPLOY\",\"value\":\"2022-05-04 22:25:00\"},{\"name\":\"VSHOP_DB_HOST\",\"value\":\"db-postgresql.cwavjegnholw.ap-southeast-1.rds.amazonaws.com\"},{\"name\":\"VSHOP_DB_NAME\",\"value\":\"vtenh\"},{\"name\":\"VSHOP_DB_NAME_PRODUCTION\",\"value\":\"vtenh\"},{\"name\":\"VSHOP_DB_PASSWORD\",\"value\":\"vtenh9ZOZI\"},{\"name\":\"VSHOP_DB_USER\",\"value\":\"vtenh\"}],\"essential\":true,\"image\":\"611922433325.dkr.ecr.ap-southeast-1.amazonaws.com/vtenh\",\"logConfiguration\":{\"logDriver\":\"awslogs\",\"options\":{\"awslogs-create-group\":\"true\",\"awslogs-group\":\"/ecs/vtenh-queue\",\"awslogs-region\":\"ap-southeast-1\",\"awslogs-stream-prefix\":\"ecs\"}},\"memory\":1024,\"mountPoints\":[],\"name\":\"VTENH-queue\",\"portMappings\":[{\"containerPort\":80,\"hostPort\":80,\"protocol\":\"tcp\"},{\"containerPort\":22,\"hostPort\":22,\"protocol\":\"tcp\"}],\"secrets\":[{\"name\":\"SSH_PUBLIC_KEY\",\"valueFrom\":\"arn:aws:ssm:ap-southeast-1:611922433325:parameter/ssh_public_key\"}],\"volumesFrom\":[]}]",
            "cpu": "512",
            "execution_role_arn": "arn:aws:iam::611922433325:role/vtenh-task-exec20201225133458633000000003",
            "family": "ECS-Queue",
            "id": "ECS-Queue",
            "inference_accelerator": [],
            "ipc_mode": "",
            "memory": "1024",
            "network_mode": "awsvpc",
            "pid_mode": "",
            "placement_constraints": [],
            "proxy_configuration": [],
            "requires_compatibilities": [
              "FARGATE"
            ],
            "revision": 60,
            "tags": null,
            "task_role_arn": "arn:aws:iam::611922433325:role/vtenh-task",
            "volume": []
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "data.template_file.ecs_queue",
            "module.iam_ecs.aws_iam_role.ecs_task_assume_role",
            "module.iam_ecs.aws_iam_role.ecs_task_exec_role"
          ]
        }
      ]
    },
    {
      "module": "module.ecs_fargate",
      "mode": "managed",
      "type": "aws_ecs_task_definition",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ecs:ap-southeast-1:611922433325:task-definition/VTENH-fargate:79",
            "container_definitions": "[{\"cpu\":1024,\"environment\":[{\"name\":\"ACTIVE_STORAGE_CDN\",\"value\":\"https://assets-cdn.vtenh.com\"},{\"name\":\"APP_NAME\",\"value\":\"VTENH\"},{\"name\":\"ASSET_HOST_URL\",\"value\":\"https://assets-cdn.vtenh.com\"},{\"name\":\"AWS_BUCKET_NAME\",\"value\":\"vtenh\"},{\"name\":\"AWS_REGION\",\"value\":\"ap-southeast-1\"},{\"name\":\"DEFAULT_EMAIL_FOR_PAYMENT\",\"value\":\"info+aba@vtenh.com\"},{\"name\":\"DEFAULT_URL_HOST\",\"value\":\"https://www.vtenh.com\"},{\"name\":\"DEVISE_SECRET_KEY\",\"value\":\"e0f35eaaf8c617c5fd5ee18124ec640eb84273f5f72c12af00db89e4cf01244d66ce206a72356f78d14301552b587af07d59\"},{\"name\":\"ELASTICSEARCH_URL\",\"value\":\"https://elastic:7uTSwzJ8exuKdk3TNGtPIOXR@memory-optimized-deployment.es.ap-southeast-1.aws.found.io:9243\"},{\"name\":\"EXCEPTION_CHANNEL_ID\",\"value\":\"#production-exceptions\"},{\"name\":\"EXCEPTION_NOTIFY_ENABLE\",\"value\":\"yes\"},{\"name\":\"EXCEPTION_SLACK_WEBHOOK_URL\",\"value\":\"https://hooks.slack.com/services/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\"},{\"name\":\"FB_APP_ID\",\"value\":\"381496249527504\"},{\"name\":\"FIREBASE_PROJECT_ID\",\"value\":\"vtenh-46ed3\"},{\"name\":\"GOOGLE_TAG_MANAGER\",\"value\":\"GTM-5D7SNTB\"},{\"name\":\"MEMCACHE_SERVERS\",\"value\":\"memcached.4yy17c.cfg.apse1.cache.amazonaws.com:11211\"},{\"name\":\"MODE_ENV\",\"value\":\"web\"},{\"name\":\"PROTECTED_PASSWORD\",\"value\":\"\"},{\"name\":\"PROTECTED_USERNAME\",\"value\":\"\"},{\"name\":\"RAILS_ENV\",\"value\":\"production\"},{\"name\":\"RAILS_LOG_TO_STDOUT\",\"value\":\"1\"},{\"name\":\"RAILS_MASTER_KEY\",\"value\":\"327385331c545d6f54f090ccec015e9d\"},{\"name\":\"RAILS_MAX_INSTANCES\",\"value\":\"8\"},{\"name\":\"RAILS_MAX_THREADS\",\"value\":\"5\"},{\"name\":\"RAILS_MIN_INSTANCES\",\"value\":\"6\"},{\"name\":\"RAILS_TASK_NAME\",\"value\":\"\"},{\"name\":\"REDIS_URL\",\"value\":\"redis://redis.4yy17c.0001.apse1.cache.amazonaws.com:6379/1\"},{\"name\":\"SHOW_TOPBAR\",\"value\":\"yes\"},{\"name\":\"SIDEKIQ_PASSWORD\",\"value\":\"admin_queue@vtenh0102\"},{\"name\":\"SIDEKIQ_USERNAME\",\"value\":\"admin_queue\"},{\"name\":\"SMS_SENDER_ID\",\"value\":\"VTenh\"},{\"name\":\"SMTP_PASSWORD\",\"value\":\"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\"},{\"name\":\"SMTP_SERVER\",\"value\":\"smtp.sendgrid.net\"},{\"name\":\"SMTP_USERNAME\",\"value\":\"apikey\"},{\"name\":\"TIME_ZONE\",\"value\":\"Bangkok\"},{\"name\":\"TOUCH_REDEPLOY\",\"value\":\"2022-05-04 22:25:00\"},{\"name\":\"VSHOP_DB_HOST\",\"value\":\"db-postgresql.cwavjegnholw.ap-southeast-1.rds.amazonaws.com\"},{\"name\":\"VSHOP_DB_NAME\",\"value\":\"vtenh\"},{\"name\":\"VSHOP_DB_NAME_PRODUCTION\",\"value\":\"vtenh\"},{\"name\":\"VSHOP_DB_PASSWORD\",\"value\":\"vtenh9ZOZI\"},{\"name\":\"VSHOP_DB_USER\",\"value\":\"vtenh\"}],\"essential\":true,\"image\":\"611922433325.dkr.ecr.ap-southeast-1.amazonaws.com/vtenh\",\"logConfiguration\":{\"logDriver\":\"awslogs\",\"options\":{\"awslogs-create-group\":\"true\",\"awslogs-group\":\"/ecs/vtenh-web\",\"awslogs-region\":\"ap-southeast-1\",\"awslogs-stream-prefix\":\"ecs\"}},\"memory\":2048,\"mountPoints\":[],\"name\":\"VTENH-fargate\",\"portMappings\":[{\"containerPort\":80,\"hostPort\":80,\"protocol\":\"tcp\"},{\"containerPort\":22,\"hostPort\":22,\"protocol\":\"tcp\"}],\"secrets\":[{\"name\":\"SSH_PUBLIC_KEY\",\"valueFrom\":\"arn:aws:ssm:ap-southeast-1:611922433325:parameter/ssh_public_key\"}],\"volumesFrom\":[]}]",
            "cpu": "1024",
            "execution_role_arn": "arn:aws:iam::611922433325:role/vtenh-task-exec20201225133458633000000003",
            "family": "VTENH-fargate",
            "id": "VTENH-fargate",
            "inference_accelerator": [],
            "ipc_mode": "",
            "memory": "2048",
            "network_mode": "awsvpc",
            "pid_mode": "",
            "placement_constraints": [],
            "proxy_configuration": [],
            "requires_compatibilities": [
              "FARGATE"
            ],
            "revision": 79,
            "tags": null,
            "task_role_arn": "arn:aws:iam::611922433325:role/vtenh-task",
            "volume": []
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "data.template_file.ecs_fargate",
            "module.iam_ecs.aws_iam_role.ecs_task_assume_role",
            "module.iam_ecs.aws_iam_role.ecs_task_exec_role"
          ]
        }
      ]
    },
    {
      "module": "module.local_exec_migration",
      "mode": "managed",
      "type": "aws_ecs_task_definition",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ecs:ap-southeast-1:611922433325:task-definition/ECS-Migration:59",
            "container_definitions": "[{\"command\":[\"/tmp/custom_script/task.sh\"],\"cpu\":512,\"environment\":[{\"name\":\"ACTIVE_STORAGE_CDN\",\"value\":\"https://assets-cdn.vtenh.com\"},{\"name\":\"APP_NAME\",\"value\":\"VTENH\"},{\"name\":\"ASSET_HOST_URL\",\"value\":\"https://assets-cdn.vtenh.com\"},{\"name\":\"AWS_BUCKET_NAME\",\"value\":\"vtenh\"},{\"name\":\"AWS_REGION\",\"value\":\"ap-southeast-1\"},{\"name\":\"DEFAULT_EMAIL_FOR_PAYMENT\",\"value\":\"info+aba@vtenh.com\"},{\"name\":\"DEFAULT_URL_HOST\",\"value\":\"https://www.vtenh.com\"},{\"name\":\"DEVISE_SECRET_KEY\",\"value\":\"e0f35eaaf8c617c5fd5ee18124ec640eb84273f5f72c12af00db89e4cf01244d66ce206a72356f78d14301552b587af07d59\"},{\"name\":\"ELASTICSEARCH_URL\",\"value\":\"https://elastic:7uTSwzJ8exuKdk3TNGtPIOXR@memory-optimized-deployment.es.ap-southeast-1.aws.found.io:9243\"},{\"name\":\"EXCEPTION_CHANNEL_ID\",\"value\":\"#production-exceptions\"},{\"name\":\"EXCEPTION_NOTIFY_ENABLE\",\"value\":\"yes\"},{\"name\":\"EXCEPTION_SLACK_WEBHOOK_URL\",\"value\":\"https://hooks.slack.com/services/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\"},{\"name\":\"FB_APP_ID\",\"value\":\"381496249527504\"},{\"name\":\"FIREBASE_PROJECT_ID\",\"value\":\"vtenh-46ed3\"},{\"name\":\"GOOGLE_TAG_MANAGER\",\"value\":\"GTM-5D7SNTB\"},{\"name\":\"MEMCACHE_SERVERS\",\"value\":\"memcached.4yy17c.cfg.apse1.cache.amazonaws.com:11211\"},{\"name\":\"MODE_ENV\",\"value\":\"task\"},{\"name\":\"PROTECTED_PASSWORD\",\"value\":\"\"},{\"name\":\"PROTECTED_USERNAME\",\"value\":\"\"},{\"name\":\"RAILS_ENV\",\"value\":\"production\"},{\"name\":\"RAILS_LOG_TO_STDOUT\",\"value\":\"1\"},{\"name\":\"RAILS_MASTER_KEY\",\"value\":\"327385331c545d6f54f090ccec015e9d\"},{\"name\":\"RAILS_MAX_INSTANCES\",\"value\":\"8\"},{\"name\":\"RAILS_MAX_THREADS\",\"value\":\"5\"},{\"name\":\"RAILS_MIN_INSTANCES\",\"value\":\"6\"},{\"name\":\"RAILS_TASK_NAME\",\"value\":\"db:migrate\"},{\"name\":\"REDIS_URL\",\"value\":\"redis://redis.4yy17c.0001.apse1.cache.amazonaws.com:6379/1\"},{\"name\":\"SHOW_TOPBAR\",\"value\":\"yes\"},{\"name\":\"SIDEKIQ_PASSWORD\",\"value\":\"admin_queue@vtenh0102\"},{\"name\":\"SIDEKIQ_USERNAME\",\"value\":\"admin_queue\"},{\"name\":\"SMS_SENDER_ID\",\"value\":\"VTenh\"},{\"name\":\"SMTP_PASSWORD\",\"value\":\"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\"},{\"name\":\"SMTP_SERVER\",\"value\":\"smtp.sendgrid.net\"},{\"name\":\"SMTP_USERNAME\",\"value\":\"apikey\"},{\"name\":\"TIME_ZONE\",\"value\":\"Bangkok\"},{\"name\":\"TOUCH_REDEPLOY\",\"value\":\"2022-05-04 22:25:00\"},{\"name\":\"VSHOP_DB_HOST\",\"value\":\"db-postgresql.cwavjegnholw.ap-southeast-1.rds.amazonaws.com\"},{\"name\":\"VSHOP_DB_NAME\",\"value\":\"vtenh\"},{\"name\":\"VSHOP_DB_NAME_PRODUCTION\",\"value\":\"vtenh\"},{\"name\":\"VSHOP_DB_PASSWORD\",\"value\":\"vtenh9ZOZI\"},{\"name\":\"VSHOP_DB_USER\",\"value\":\"vtenh\"}],\"essential\":true,\"image\":\"611922433325.dkr.ecr.ap-southeast-1.amazonaws.com/vtenh\",\"logConfiguration\":{\"logDriver\":\"awslogs\",\"options\":{\"awslogs-create-group\":\"true\",\"awslogs-group\":\"/ecs/migration20210119150713572800000002\",\"awslogs-region\":\"ap-southeast-1\",\"awslogs-stream-prefix\":\"ecs\"}},\"memory\":1024,\"mountPoints\":[],\"name\":\"VTENH-db-migration\",\"portMappings\":[{\"containerPort\":80,\"hostPort\":80,\"protocol\":\"tcp\"},{\"containerPort\":22,\"hostPort\":22,\"protocol\":\"tcp\"}],\"secrets\":[{\"name\":\"SSH_PUBLIC_KEY\",\"valueFrom\":\"arn:aws:ssm:ap-southeast-1:611922433325:parameter/ssh_public_key\"}],\"volumesFrom\":[]}]",
            "cpu": "512",
            "execution_role_arn": "arn:aws:iam::611922433325:role/vtenh-task-exec20201225133458633000000003",
            "family": "ECS-Migration",
            "id": "ECS-Migration",
            "inference_accelerator": [],
            "ipc_mode": "",
            "memory": "1024",
            "network_mode": "awsvpc",
            "pid_mode": "",
            "placement_constraints": [],
            "proxy_configuration": [],
            "requires_compatibilities": [
              "FARGATE"
            ],
            "revision": 59,
            "tags": null,
            "task_role_arn": "arn:aws:iam::611922433325:role/vtenh-task",
            "volume": []
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "data.template_file.db_migration",
            "module.iam_ecs.aws_iam_role.ecs_task_assume_role",
            "module.iam_ecs.aws_iam_role.ecs_task_exec_role"
          ]
        }
      ]
    },
    {
      "module": "module.vpc",
      "mode": "managed",
      "type": "aws_eip",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "allocation_id": null,
            "associate_with_private_ip": null,
            "association_id": "eipassoc-0aa094176c7e0f5bf",
            "carrier_ip": "",
            "customer_owned_ip": "",
            "customer_owned_ipv4_pool": "",
            "domain": "vpc",
            "id": "eipalloc-0d51b5206c6f7d1f8",
            "instance": "",
            "network_border_group": "ap-southeast-1",
            "network_interface": "eni-0729c1f323d18cd04",
            "private_dns": "ip-192-168-1-254.ap-southeast-1.compute.internal",
            "private_ip": "192.168.1.254",
            "public_dns": "ec2-54-179-208-62.ap-southeast-1.compute.amazonaws.com",
            "public_ip": "54.179.208.62",
            "public_ipv4_pool": "amazon",
            "tags": {
              "Name": "PublicIp for VTENH NAT"
            },
            "timeouts": null,
            "vpc": true
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjoxODAwMDAwMDAwMDAsInJlYWQiOjkwMDAwMDAwMDAwMCwidXBkYXRlIjozMDAwMDAwMDAwMDB9fQ=="
        }
      ]
    },
    {
      "module": "module.redis",
      "mode": "managed",
      "type": "aws_elasticache_cluster",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "apply_immediately": null,
            "arn": "arn:aws:elasticache:ap-southeast-1:611922433325:cluster:redis",
            "availability_zone": "ap-southeast-1a",
            "az_mode": "single-az",
            "cache_nodes": [
              {
                "address": "redis.4yy17c.0001.apse1.cache.amazonaws.com",
                "availability_zone": "ap-southeast-1a",
                "id": "0001",
                "port": 6379
              }
            ],
            "cluster_address": null,
            "cluster_id": "redis",
            "configuration_endpoint": null,
            "engine": "redis",
            "engine_version": "6.0.5",
            "id": "redis",
            "maintenance_window": "mon:16:30-mon:17:30",
            "node_type": "cache.t3.small",
            "notification_topic_arn": null,
            "num_cache_nodes": 1,
            "parameter_group_name": "default.redis6.x",
            "port": 6379,
            "preferred_availability_zones": null,
            "replication_group_id": null,
            "security_group_ids": [
              "sg-0116e7ae4cad864c7"
            ],
            "security_group_names": [],
            "snapshot_arns": null,
            "snapshot_name": null,
            "snapshot_retention_limit": 0,
            "snapshot_window": "20:30-21:30",
            "subnet_group_name": "redis-sng",
            "tags": {
              "redis": "Terraform"
            }
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.redis.aws_elasticache_subnet_group.main",
            "module.sg.aws_security_group.redis",
            "module.vpc.aws_subnet.privates",
            "module.vpc.data.aws_availability_zones.available"
          ]
        }
      ]
    },
    {
      "module": "module.memcached",
      "mode": "managed",
      "type": "aws_elasticache_cluster",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "apply_immediately": null,
            "arn": "arn:aws:elasticache:ap-southeast-1:611922433325:cluster:memcached",
            "availability_zone": "ap-southeast-1b",
            "az_mode": "single-az",
            "cache_nodes": [
              {
                "address": "memcached.4yy17c.0001.apse1.cache.amazonaws.com",
                "availability_zone": "ap-southeast-1b",
                "id": "0001",
                "port": 11211
              }
            ],
            "cluster_address": "memcached.4yy17c.cfg.apse1.cache.amazonaws.com",
            "cluster_id": "memcached",
            "configuration_endpoint": "memcached.4yy17c.cfg.apse1.cache.amazonaws.com:11211",
            "engine": "memcached",
            "engine_version": "1.6.6",
            "id": "memcached",
            "maintenance_window": "wed:15:30-wed:16:30",
            "node_type": "cache.t3.small",
            "notification_topic_arn": null,
            "num_cache_nodes": 1,
            "parameter_group_name": "default.memcached1.6",
            "port": 11211,
            "preferred_availability_zones": null,
            "replication_group_id": null,
            "security_group_ids": [
              "sg-0c511bc774dd93ad9"
            ],
            "security_group_names": [],
            "snapshot_arns": null,
            "snapshot_name": null,
            "snapshot_retention_limit": 0,
            "snapshot_window": "",
            "subnet_group_name": "memcached-sng",
            "tags": {
              "memcached": "Terraform"
            }
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.memcached.aws_elasticache_subnet_group.main",
            "module.sg.aws_security_group.memcached",
            "module.vpc.aws_subnet.privates",
            "module.vpc.data.aws_availability_zones.available"
          ]
        }
      ]
    },
    {
      "module": "module.redis",
      "mode": "managed",
      "type": "aws_elasticache_subnet_group",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "description": "Managed by Terraform",
            "id": "redis-sng",
            "name": "redis-sng",
            "subnet_ids": [
              "subnet-00d27e777eecc58cf",
              "subnet-022f6d81a2f575246",
              "subnet-0aea1f2e169b9f30c"
            ]
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.vpc.aws_subnet.privates",
            "module.vpc.data.aws_availability_zones.available"
          ]
        }
      ]
    },
    {
      "module": "module.memcached",
      "mode": "managed",
      "type": "aws_elasticache_subnet_group",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "description": "Managed by Terraform",
            "id": "memcached-sng",
            "name": "memcached-sng",
            "subnet_ids": [
              "subnet-00d27e777eecc58cf",
              "subnet-022f6d81a2f575246",
              "subnet-0aea1f2e169b9f30c"
            ]
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.vpc.aws_subnet.privates",
            "module.vpc.data.aws_availability_zones.available"
          ]
        }
      ]
    },
    {
      "module": "module.iam_ecs",
      "mode": "managed",
      "type": "aws_iam_instance_profile",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::611922433325:instance-profile/vtenh20201225133457812800000002",
            "create_date": "2020-12-25T13:35:17Z",
            "id": "vtenh20201225133457812800000002",
            "name": "vtenh20201225133457812800000002",
            "name_prefix": "vtenh",
            "path": "/",
            "role": "vtenh-ec220201225133452868800000001",
            "unique_id": "AIPAY46LLKUWQXBPTSP4M"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.iam_ecs.aws_iam_role.ecs_instance_role"
          ]
        }
      ]
    },
    {
      "module": "module.iam_ecs",
      "mode": "managed",
      "type": "aws_iam_policy",
      "name": "ssm_parameter_store",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::611922433325:policy/ssm_parameter_store",
            "description": "",
            "id": "arn:aws:iam::611922433325:policy/ssm_parameter_store",
            "name": "ssm_parameter_store",
            "name_prefix": null,
            "path": "/",
            "policy": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"EcsSSMParameterStore\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"ssm:GetParameters\",\n        \"ssm:GetParameter\"\n      ],\n      \"Resource\": \"*\"\n    }\n  ]\n}\n"
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.iam_ecs",
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "ecs_instance_role",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::611922433325:role/vtenh-ec220201225133452868800000001",
            "assume_role_policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Allow\",\"Principal\":{\"Service\":[\"ecs-tasks.amazonaws.com\",\"ec2.amazonaws.com\"]},\"Action\":\"sts:AssumeRole\"}]}",
            "create_date": "2020-12-25T13:35:11Z",
            "description": "",
            "force_detach_policies": true,
            "id": "vtenh-ec220201225133452868800000001",
            "max_session_duration": 3600,
            "name": "vtenh-ec220201225133452868800000001",
            "name_prefix": "vtenh-ec2",
            "path": "/",
            "permissions_boundary": null,
            "tags": {},
            "unique_id": "AROAY46LLKUW53T3MCH2V"
          },
          "private": "bnVsbA==",
          "create_before_destroy": true
        }
      ]
    },
    {
      "module": "module.iam_ecs",
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "ecs_task_assume_role",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::611922433325:role/vtenh-task",
            "assume_role_policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ecs-tasks.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}",
            "create_date": "2020-12-25T13:35:16Z",
            "description": "",
            "force_detach_policies": false,
            "id": "vtenh-task",
            "max_session_duration": 3600,
            "name": "vtenh-task",
            "name_prefix": null,
            "path": "/",
            "permissions_boundary": null,
            "tags": {},
            "unique_id": "AROAY46LLKUW66LLZA7QW"
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.iam_ecs",
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "ecs_task_exec_role",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::611922433325:role/vtenh-task-exec20201225133458633000000003",
            "assume_role_policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ecs-tasks.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}",
            "create_date": "2020-12-25T13:35:18Z",
            "description": "",
            "force_detach_policies": false,
            "id": "vtenh-task-exec20201225133458633000000003",
            "max_session_duration": 3600,
            "name": "vtenh-task-exec20201225133458633000000003",
            "name_prefix": "vtenh-task-exec",
            "path": "/",
            "permissions_boundary": null,
            "tags": {},
            "unique_id": "AROAY46LLKUWQLI7A2P4B"
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.ecs_scheduele_cron",
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::611922433325:role/VTENH-cron",
            "assume_role_policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"events.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}",
            "create_date": "2021-02-12T09:18:59Z",
            "description": "",
            "force_detach_policies": false,
            "id": "VTENH-cron",
            "max_session_duration": 3600,
            "name": "VTENH-cron",
            "name_prefix": null,
            "path": "/",
            "permissions_boundary": null,
            "tags": {},
            "unique_id": "AROAY46LLKUWRUEV744C3"
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.iam_ecs",
      "mode": "managed",
      "type": "aws_iam_role_policy",
      "name": "ecs_instance_policy",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "vtenh-ec220201225133452868800000001:ecs_task_assume_policy",
            "name": "ecs_task_assume_policy",
            "name_prefix": null,
            "policy": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n        \"Action\": [\n        \"ecs:CreateCluster\",\n        \"ecs:DeregisterContainerInstance\",\n        \"ecs:DiscoverPollEndpoint\",\n        \"ecs:Poll\",\n        \"ecs:RegisterContainerInstance\",\n        \"ecs:StartTelemetrySession\",\n        \"ecs:Submit*\",\n        \"ecs:StartTask\",\n        \"ecr:GetAuthorizationToken\",\n        \"ecr:BatchCheckLayerAvailability\",\n        \"ecr:GetDownloadUrlForLayer\",\n        \"ecr:BatchGetImage\",\n        \"logs:CreateLogGroup\",\n        \"logs:CreateLogStream\",\n        \"logs:PutLogEvents\",\n        \"logs:DescribeLogStreams\"\n      ],\n      \"Resource\": [\n        \"*\"\n      ]\n    }\n  ]\n}\n",
            "role": "vtenh-ec220201225133452868800000001"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.iam_ecs.aws_iam_role.ecs_instance_role"
          ]
        }
      ]
    },
    {
      "module": "module.iam_ecs",
      "mode": "managed",
      "type": "aws_iam_role_policy",
      "name": "ecs_task_assume_policy",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "vtenh-task:ecs_task_assume_policy",
            "name": "ecs_task_assume_policy",
            "name_prefix": null,
            "policy": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"ecr:GetAuthorizationToken\",\n        \"ecr:BatchCheckLayerAvailability\",\n        \"ecr:GetDownloadUrlForLayer\",\n        \"ecr:BatchGetImage\",\n\n        \"logs:CreateLogGroup\",\n        \"logs:CreateLogStream\",\n        \"logs:PutLogEvents\",\n        \"logs:DescribeLogStreams\"\n      ],\n      \"Resource\": [\n        \"*\"\n      ]\n    }\n  ]\n}\n",
            "role": "vtenh-task"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.iam_ecs.aws_iam_role.ecs_task_assume_role"
          ]
        }
      ]
    },
    {
      "module": "module.ecs_scheduele_cron",
      "mode": "managed",
      "type": "aws_iam_role_policy",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "VTENH-cron:VTENH-cron",
            "name": "VTENH-cron",
            "name_prefix": null,
            "policy": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"ecs:RunTask\"\n      ],\n      \"Resource\": [\n        \"*\"\n      ]\n    },\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": \"iam:PassRole\",\n      \"Resource\": [\n        \"*\"\n      ]\n    }\n  ]\n}\n",
            "role": "VTENH-cron"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.ecs_scheduele_cron.aws_iam_role.main"
          ]
        }
      ]
    },
    {
      "module": "module.iam_ecs",
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "ecs_task_exec_policy",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "vtenh-task-exec20201225133458633000000003-20201225133523199500000005",
            "policy_arn": "arn:aws:iam::aws:policy/service-role/AmazonECSTaskExecutionRolePolicy",
            "role": "vtenh-task-exec20201225133458633000000003"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.iam_ecs.aws_iam_role.ecs_task_exec_role"
          ]
        }
      ]
    },
    {
      "module": "module.iam_ecs",
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "ssm_parameter_store",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "vtenh-task-exec20201225133458633000000003-20210208113758132700000001",
            "policy_arn": "arn:aws:iam::611922433325:policy/ssm_parameter_store",
            "role": "vtenh-task-exec20201225133458633000000003"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.iam_ecs.aws_iam_policy.ssm_parameter_store",
            "module.iam_ecs.aws_iam_role.ecs_task_exec_role"
          ]
        }
      ]
    },
    {
      "module": "module.vpc",
      "mode": "managed",
      "type": "aws_internet_gateway",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ec2:ap-southeast-1:611922433325:internet-gateway/igw-05f7a33fcb11b5143",
            "id": "igw-05f7a33fcb11b5143",
            "owner_id": "611922433325",
            "tags": {
              "Name": "Internet Gateway for public Subnet"
            },
            "vpc_id": "vpc-0648f6ee3beb5d737"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.vpc.aws_vpc.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_key_pair",
      "name": "ec2",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:ap-southeast-1:611922433325:key-pair/VTENH",
            "fingerprint": "b2:e3:7b:0e:3d:2d:4b:dc:d4:e9:35:a2:0d:02:0a:4f",
            "id": "VTENH",
            "key_name": "VTENH",
            "key_name_prefix": null,
            "key_pair_id": "key-07867062a60cbcd4a",
            "public_key": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQD6cv4pc3758N808u9DfPR+gYF0y+tlMi41YtNHrESHpfk1MVptXY/TqS3d3Wad+Sn+jlmy80iTi6Xv6rndhnjVGfeZBGXml5UVgba55c9R9O33Ii2hrDwlcB9ZNl3uFN1zlCNfe8M0/eyERzP0TqVFiGn9X7NreGbGPV55aEUVsK7QdL3A5WfKRVSxerV/JcYgrKnkgFU/eUCYmUsmRa0++sfJS2H8w/IX+FPNBjy50o9TaPxqDIpKx2tpjT7JSD/OmyomVQ/7AxdgDZ/9TakfRjYAh/cDkJi/Xs9awt3+Umzk33TErB7BQsUi2HNRriRlS6z6em5aOGHooaJp9zqj ilab@Sokhas-MacBook-Pro.local",
            "tags": {}
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "create_before_destroy": true
        }
      ]
    },
    {
      "module": "module.rds",
      "mode": "managed",
      "type": "aws_kms_key",
      "name": "insight_key",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:kms:ap-southeast-1:611922433325:key/c19b0b8d-a03c-42b2-8d7d-5fb8a60eb497",
            "customer_master_key_spec": "SYMMETRIC_DEFAULT",
            "deletion_window_in_days": null,
            "description": "KMS key for RDS performance insight",
            "enable_key_rotation": false,
            "id": "c19b0b8d-a03c-42b2-8d7d-5fb8a60eb497",
            "is_enabled": true,
            "key_id": "c19b0b8d-a03c-42b2-8d7d-5fb8a60eb497",
            "key_usage": "ENCRYPT_DECRYPT",
            "policy": "{\"Id\":\"key-default-1\",\"Statement\":[{\"Action\":\"kms:*\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"arn:aws:iam::611922433325:root\"},\"Resource\":\"*\",\"Sid\":\"Enable IAM User Permissions\"}],\"Version\":\"2012-10-17\"}",
            "tags": {
              "Name": "KMSKEY postgresqlInsight"
            }
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.ecs_fargate_alb",
      "mode": "managed",
      "type": "aws_lb",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "access_logs": [
              {
                "bucket": "",
                "enabled": false,
                "prefix": ""
              }
            ],
            "arn": "arn:aws:elasticloadbalancing:ap-southeast-1:611922433325:loadbalancer/app/VTENH-fargate/a46e6943e8cf6238",
            "arn_suffix": "app/VTENH-fargate/a46e6943e8cf6238",
            "customer_owned_ipv4_pool": "",
            "dns_name": "VTENH-fargate-1423880122.ap-southeast-1.elb.amazonaws.com",
            "drop_invalid_header_fields": false,
            "enable_cross_zone_load_balancing": null,
            "enable_deletion_protection": true,
            "enable_http2": true,
            "id": "arn:aws:elasticloadbalancing:ap-southeast-1:611922433325:loadbalancer/app/VTENH-fargate/a46e6943e8cf6238",
            "idle_timeout": 60,
            "internal": false,
            "ip_address_type": "ipv4",
            "load_balancer_type": "application",
            "name": "VTENH-fargate",
            "name_prefix": null,
            "security_groups": [
              "sg-0b8f764c7f3bf5570"
            ],
            "subnet_mapping": [
              {
                "allocation_id": "",
                "outpost_id": "",
                "private_ipv4_address": "",
                "subnet_id": "subnet-0537278cba0fe9a9b"
              },
              {
                "allocation_id": "",
                "outpost_id": "",
                "private_ipv4_address": "",
                "subnet_id": "subnet-07f858c291d262ae0"
              },
              {
                "allocation_id": "",
                "outpost_id": "",
                "private_ipv4_address": "",
                "subnet_id": "subnet-0b390072549da094e"
              }
            ],
            "subnets": [
              "subnet-0537278cba0fe9a9b",
              "subnet-07f858c291d262ae0",
              "subnet-0b390072549da094e"
            ],
            "tags": {},
            "timeouts": null,
            "vpc_id": "vpc-0648f6ee3beb5d737",
            "zone_id": "Z1LMS91P8CMLE5"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.sg.aws_security_group.ecs",
            "module.vpc.aws_subnet.publics",
            "module.vpc.data.aws_availability_zones.available"
          ]
        }
      ]
    },
    {
      "module": "module.vpc",
      "mode": "managed",
      "type": "aws_nat_gateway",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "allocation_id": "eipalloc-0d51b5206c6f7d1f8",
            "id": "nat-071ff3ee0effdaac7",
            "network_interface_id": "eni-0729c1f323d18cd04",
            "private_ip": "192.168.1.254",
            "public_ip": "54.179.208.62",
            "subnet_id": "subnet-0537278cba0fe9a9b",
            "tags": {
              "Name": "VTENH NAT Gateway"
            }
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.vpc.aws_eip.main",
            "module.vpc.aws_subnet.publics",
            "module.vpc.aws_vpc.main",
            "module.vpc.data.aws_availability_zones.available"
          ]
        }
      ]
    },
    {
      "module": "module.route53",
      "mode": "managed",
      "type": "aws_route53_record",
      "name": "asset_cdn",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 2,
          "attributes": {
            "alias": [],
            "allow_overwrite": null,
            "failover_routing_policy": [],
            "fqdn": "assets-cdn.vtenh.com",
            "geolocation_routing_policy": [],
            "health_check_id": "",
            "id": "Z0466585W0RRHX2L48OH_assets-cdn_CNAME",
            "latency_routing_policy": [],
            "multivalue_answer_routing_policy": null,
            "name": "assets-cdn",
            "records": [
              "drlm4zupjaf0x.cloudfront.net"
            ],
            "set_identifier": "",
            "ttl": 5,
            "type": "CNAME",
            "weighted_routing_policy": [],
            "zone_id": "Z0466585W0RRHX2L48OH"
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "module.route53.data.aws_route53_zone.main"
          ]
        }
      ]
    },
    {
      "module": "module.route53",
      "mode": "managed",
      "type": "aws_route53_record",
      "name": "non_www",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "alias": [
              {
                "evaluate_target_health": false,
                "name": "vtenh-fargate-1423880122.ap-southeast-1.elb.amazonaws.com",
                "zone_id": "Z1LMS91P8CMLE5"
              }
            ],
            "allow_overwrite": null,
            "failover_routing_policy": [],
            "fqdn": "vtenh.com",
            "geolocation_routing_policy": [],
            "health_check_id": "",
            "id": "Z0466585W0RRHX2L48OH__A",
            "latency_routing_policy": [],
            "multivalue_answer_routing_policy": null,
            "name": "",
            "records": [],
            "set_identifier": "",
            "ttl": 0,
            "type": "A",
            "weighted_routing_policy": [],
            "zone_id": "Z0466585W0RRHX2L48OH"
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "module.ecs_fargate_alb.aws_lb.main",
            "module.route53.data.aws_route53_zone.main",
            "module.sg.aws_security_group.ecs",
            "module.vpc.aws_subnet.publics",
            "module.vpc.data.aws_availability_zones.available"
          ]
        }
      ]
    },
    {
      "module": "module.route53",
      "mode": "managed",
      "type": "aws_route53_record",
      "name": "sendgrid",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 2,
          "attributes": {
            "alias": [],
            "allow_overwrite": null,
            "failover_routing_policy": [],
            "fqdn": "em1203.vtenh.com",
            "geolocation_routing_policy": [],
            "health_check_id": "",
            "id": "Z0466585W0RRHX2L48OH_em1203_CNAME",
            "latency_routing_policy": [],
            "multivalue_answer_routing_policy": null,
            "name": "em1203",
            "records": [
              "u15527722.wl223.sendgrid.net"
            ],
            "set_identifier": "",
            "ttl": 5,
            "type": "CNAME",
            "weighted_routing_policy": [],
            "zone_id": "Z0466585W0RRHX2L48OH"
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "module.route53.data.aws_route53_zone.main"
          ]
        },
        {
          "index_key": 1,
          "schema_version": 2,
          "attributes": {
            "alias": [],
            "allow_overwrite": null,
            "failover_routing_policy": [],
            "fqdn": "s1._domainkey.vtenh.com",
            "geolocation_routing_policy": [],
            "health_check_id": "",
            "id": "Z0466585W0RRHX2L48OH_s1._domainkey_CNAME",
            "latency_routing_policy": [],
            "multivalue_answer_routing_policy": null,
            "name": "s1._domainkey",
            "records": [
              "s1.domainkey.u15527722.wl223.sendgrid.net"
            ],
            "set_identifier": "",
            "ttl": 5,
            "type": "CNAME",
            "weighted_routing_policy": [],
            "zone_id": "Z0466585W0RRHX2L48OH"
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "module.route53.data.aws_route53_zone.main"
          ]
        },
        {
          "index_key": 2,
          "schema_version": 2,
          "attributes": {
            "alias": [],
            "allow_overwrite": null,
            "failover_routing_policy": [],
            "fqdn": "s2._domainkey.vtenh.com",
            "geolocation_routing_policy": [],
            "health_check_id": "",
            "id": "Z0466585W0RRHX2L48OH_s2._domainkey_CNAME",
            "latency_routing_policy": [],
            "multivalue_answer_routing_policy": null,
            "name": "s2._domainkey",
            "records": [
              "s2.domainkey.u15527722.wl223.sendgrid.net"
            ],
            "set_identifier": "",
            "ttl": 5,
            "type": "CNAME",
            "weighted_routing_policy": [],
            "zone_id": "Z0466585W0RRHX2L48OH"
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "module.route53.data.aws_route53_zone.main"
          ]
        },
        {
          "index_key": 3,
          "schema_version": 2,
          "attributes": {
            "alias": [],
            "allow_overwrite": null,
            "failover_routing_policy": [],
            "fqdn": "url5720.vtenh.com",
            "geolocation_routing_policy": [],
            "health_check_id": "",
            "id": "Z0466585W0RRHX2L48OH_url5720_CNAME",
            "latency_routing_policy": [],
            "multivalue_answer_routing_policy": null,
            "name": "url5720",
            "records": [
              "sendgrid.net"
            ],
            "set_identifier": "",
            "ttl": 5,
            "type": "CNAME",
            "weighted_routing_policy": [],
            "zone_id": "Z0466585W0RRHX2L48OH"
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "module.route53.data.aws_route53_zone.main"
          ]
        },
        {
          "index_key": 4,
          "schema_version": 2,
          "attributes": {
            "alias": [],
            "allow_overwrite": null,
            "failover_routing_policy": [],
            "fqdn": "15527722.vtenh.com",
            "geolocation_routing_policy": [],
            "health_check_id": "",
            "id": "Z0466585W0RRHX2L48OH_15527722_CNAME",
            "latency_routing_policy": [],
            "multivalue_answer_routing_policy": null,
            "name": "15527722",
            "records": [
              "sendgrid.net"
            ],
            "set_identifier": "",
            "ttl": 5,
            "type": "CNAME",
            "weighted_routing_policy": [],
            "zone_id": "Z0466585W0RRHX2L48OH"
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "module.route53.data.aws_route53_zone.main"
          ]
        }
      ]
    },
    {
      "module": "module.route53",
      "mode": "managed",
      "type": "aws_route53_record",
      "name": "www",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "alias": [
              {
                "evaluate_target_health": false,
                "name": "vtenh-fargate-1423880122.ap-southeast-1.elb.amazonaws.com",
                "zone_id": "Z1LMS91P8CMLE5"
              }
            ],
            "allow_overwrite": null,
            "failover_routing_policy": [],
            "fqdn": "www.vtenh.com",
            "geolocation_routing_policy": [],
            "health_check_id": "",
            "id": "Z0466585W0RRHX2L48OH_www_A",
            "latency_routing_policy": [],
            "multivalue_answer_routing_policy": null,
            "name": "www",
            "records": [],
            "set_identifier": "",
            "ttl": 0,
            "type": "A",
            "weighted_routing_policy": [],
            "zone_id": "Z0466585W0RRHX2L48OH"
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "module.ecs_fargate_alb.aws_lb.main",
            "module.route53.data.aws_route53_zone.main",
            "module.sg.aws_security_group.ecs",
            "module.vpc.aws_subnet.publics",
            "module.vpc.data.aws_availability_zones.available"
          ]
        }
      ]
    },
    {
      "module": "module.vpc",
      "mode": "managed",
      "type": "aws_route_table",
      "name": "ig",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "rtb-083374e783e837b7b",
            "owner_id": "611922433325",
            "propagating_vgws": [],
            "route": [
              {
                "cidr_block": "0.0.0.0/0",
                "egress_only_gateway_id": "",
                "gateway_id": "igw-05f7a33fcb11b5143",
                "instance_id": "",
                "ipv6_cidr_block": "",
                "local_gateway_id": "",
                "nat_gateway_id": "",
                "network_interface_id": "",
                "transit_gateway_id": "",
                "vpc_endpoint_id": "",
                "vpc_peering_connection_id": ""
              }
            ],
            "tags": {
              "Name": "VTENH Route table IG"
            },
            "vpc_id": "vpc-0648f6ee3beb5d737"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.vpc.aws_internet_gateway.main",
            "module.vpc.aws_vpc.main"
          ]
        }
      ]
    },
    {
      "module": "module.vpc",
      "mode": "managed",
      "type": "aws_route_table",
      "name": "nat",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "rtb-0aad205e863942498",
            "owner_id": "611922433325",
            "propagating_vgws": [],
            "route": [
              {
                "cidr_block": "0.0.0.0/0",
                "egress_only_gateway_id": "",
                "gateway_id": "",
                "instance_id": "",
                "ipv6_cidr_block": "",
                "local_gateway_id": "",
                "nat_gateway_id": "nat-071ff3ee0effdaac7",
                "network_interface_id": "",
                "transit_gateway_id": "",
                "vpc_endpoint_id": "",
                "vpc_peering_connection_id": ""
              }
            ],
            "tags": {
              "Name": "VTENH NAT Route table"
            },
            "vpc_id": "vpc-0648f6ee3beb5d737"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.vpc.aws_eip.main",
            "module.vpc.aws_nat_gateway.main",
            "module.vpc.aws_subnet.publics",
            "module.vpc.aws_vpc.main",
            "module.vpc.data.aws_availability_zones.available"
          ]
        }
      ]
    },
    {
      "module": "module.vpc",
      "mode": "managed",
      "type": "aws_route_table_association",
      "name": "rta_main_private",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "gateway_id": null,
            "id": "rtbassoc-00d9f984de1a9128f",
            "route_table_id": "rtb-0aad205e863942498",
            "subnet_id": "subnet-0aea1f2e169b9f30c"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.vpc.aws_eip.main",
            "module.vpc.aws_nat_gateway.main",
            "module.vpc.aws_route_table.nat",
            "module.vpc.aws_subnet.privates",
            "module.vpc.aws_subnet.publics",
            "module.vpc.aws_vpc.main",
            "module.vpc.data.aws_availability_zones.available"
          ]
        },
        {
          "index_key": 1,
          "schema_version": 0,
          "attributes": {
            "gateway_id": null,
            "id": "rtbassoc-0d9e0646d261b3226",
            "route_table_id": "rtb-0aad205e863942498",
            "subnet_id": "subnet-022f6d81a2f575246"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.vpc.aws_eip.main",
            "module.vpc.aws_nat_gateway.main",
            "module.vpc.aws_route_table.nat",
            "module.vpc.aws_subnet.privates",
            "module.vpc.aws_subnet.publics",
            "module.vpc.aws_vpc.main",
            "module.vpc.data.aws_availability_zones.available"
          ]
        },
        {
          "index_key": 2,
          "schema_version": 0,
          "attributes": {
            "gateway_id": null,
            "id": "rtbassoc-0c5235eec4bdea009",
            "route_table_id": "rtb-0aad205e863942498",
            "subnet_id": "subnet-00d27e777eecc58cf"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.vpc.aws_eip.main",
            "module.vpc.aws_nat_gateway.main",
            "module.vpc.aws_route_table.nat",
            "module.vpc.aws_subnet.privates",
            "module.vpc.aws_subnet.publics",
            "module.vpc.aws_vpc.main",
            "module.vpc.data.aws_availability_zones.available"
          ]
        }
      ]
    },
    {
      "module": "module.vpc",
      "mode": "managed",
      "type": "aws_route_table_association",
      "name": "rta_public",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "gateway_id": null,
            "id": "rtbassoc-00fbbd5eb73acf6b8",
            "route_table_id": "rtb-083374e783e837b7b",
            "subnet_id": "subnet-0537278cba0fe9a9b"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.vpc.aws_internet_gateway.main",
            "module.vpc.aws_route_table.ig",
            "module.vpc.aws_subnet.publics",
            "module.vpc.aws_vpc.main",
            "module.vpc.data.aws_availability_zones.available"
          ]
        },
        {
          "index_key": 1,
          "schema_version": 0,
          "attributes": {
            "gateway_id": null,
            "id": "rtbassoc-052b0d1cd46571c0d",
            "route_table_id": "rtb-083374e783e837b7b",
            "subnet_id": "subnet-0b390072549da094e"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.vpc.aws_internet_gateway.main",
            "module.vpc.aws_route_table.ig",
            "module.vpc.aws_subnet.publics",
            "module.vpc.aws_vpc.main",
            "module.vpc.data.aws_availability_zones.available"
          ]
        },
        {
          "index_key": 2,
          "schema_version": 0,
          "attributes": {
            "gateway_id": null,
            "id": "rtbassoc-0bb690174dfe7c4f8",
            "route_table_id": "rtb-083374e783e837b7b",
            "subnet_id": "subnet-07f858c291d262ae0"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.vpc.aws_internet_gateway.main",
            "module.vpc.aws_route_table.ig",
            "module.vpc.aws_subnet.publics",
            "module.vpc.aws_vpc.main",
            "module.vpc.data.aws_availability_zones.available"
          ]
        }
      ]
    },
    {
      "module": "module.s3_storage",
      "mode": "managed",
      "type": "aws_s3_bucket",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "acceleration_status": "",
            "acl": "public-read",
            "arn": "arn:aws:s3:::vtenh",
            "bucket": "vtenh",
            "bucket_domain_name": "vtenh.s3.amazonaws.com",
            "bucket_prefix": null,
            "bucket_regional_domain_name": "vtenh.s3.ap-southeast-1.amazonaws.com",
            "cors_rule": [
              {
                "allowed_headers": [
                  "*"
                ],
                "allowed_methods": [
                  "PUT",
                  "POST",
                  "GET"
                ],
                "allowed_origins": [
                  "https://vtenh.com",
                  "https://www.vtenh.com",
                  "http://localhost",
                  "http://192.168.1.110"
                ],
                "expose_headers": [
                  "Origin",
                  "Content-Type",
                  "Content-MD5",
                  "Content-Disposition"
                ],
                "max_age_seconds": 3600
              }
            ],
            "force_destroy": false,
            "grant": [],
            "hosted_zone_id": "Z3O0J2DXBE1FTB",
            "id": "vtenh",
            "lifecycle_rule": [],
            "logging": [],
            "object_lock_configuration": [],
            "policy": null,
            "region": "ap-southeast-1",
            "replication_configuration": [],
            "request_payer": "BucketOwner",
            "server_side_encryption_configuration": [],
            "tags": {},
            "versioning": [
              {
                "enabled": false,
                "mfa_delete": false
              }
            ],
            "website": [],
            "website_domain": null,
            "website_endpoint": null
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.s3_storage_dev",
      "mode": "managed",
      "type": "aws_s3_bucket",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "acceleration_status": "",
            "acl": "public-read",
            "arn": "arn:aws:s3:::vtenh-dev",
            "bucket": "vtenh-dev",
            "bucket_domain_name": "vtenh-dev.s3.amazonaws.com",
            "bucket_prefix": null,
            "bucket_regional_domain_name": "vtenh-dev.s3.ap-southeast-1.amazonaws.com",
            "cors_rule": [
              {
                "allowed_headers": [
                  "*"
                ],
                "allowed_methods": [
                  "PUT",
                  "POST",
                  "GET"
                ],
                "allowed_origins": [
                  "https://vtenh.com",
                  "https://www.vtenh.com",
                  "http://localhost",
                  "http://192.168.1.110"
                ],
                "expose_headers": [
                  "Origin",
                  "Content-Type",
                  "Content-MD5",
                  "Content-Disposition"
                ],
                "max_age_seconds": 3600
              }
            ],
            "force_destroy": false,
            "grant": [],
            "hosted_zone_id": "Z3O0J2DXBE1FTB",
            "id": "vtenh-dev",
            "lifecycle_rule": [],
            "logging": [],
            "object_lock_configuration": [],
            "policy": null,
            "region": "ap-southeast-1",
            "replication_configuration": [],
            "request_payer": "BucketOwner",
            "server_side_encryption_configuration": [],
            "tags": {},
            "versioning": [
              {
                "enabled": false,
                "mfa_delete": false
              }
            ],
            "website": [],
            "website_domain": null,
            "website_endpoint": null
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.s3_storage_staging",
      "mode": "managed",
      "type": "aws_s3_bucket",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "acceleration_status": "",
            "acl": "public-read",
            "arn": "arn:aws:s3:::vtenh-staging",
            "bucket": "vtenh-staging",
            "bucket_domain_name": "vtenh-staging.s3.amazonaws.com",
            "bucket_prefix": null,
            "bucket_regional_domain_name": "vtenh-staging.s3.ap-southeast-1.amazonaws.com",
            "cors_rule": [
              {
                "allowed_headers": [
                  "*"
                ],
                "allowed_methods": [
                  "PUT",
                  "POST",
                  "GET"
                ],
                "allowed_origins": [
                  "https://vtenh.com",
                  "https://www.vtenh.com",
                  "http://localhost",
                  "http://192.168.1.110"
                ],
                "expose_headers": [
                  "Origin",
                  "Content-Type",
                  "Content-MD5",
                  "Content-Disposition"
                ],
                "max_age_seconds": 3600
              }
            ],
            "force_destroy": false,
            "grant": [],
            "hosted_zone_id": "Z3O0J2DXBE1FTB",
            "id": "vtenh-staging",
            "lifecycle_rule": [],
            "logging": [],
            "object_lock_configuration": [],
            "policy": null,
            "region": "ap-southeast-1",
            "replication_configuration": [],
            "request_payer": "BucketOwner",
            "server_side_encryption_configuration": [],
            "tags": {},
            "versioning": [
              {
                "enabled": false,
                "mfa_delete": false
              }
            ],
            "website": [],
            "website_domain": null,
            "website_endpoint": null
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.s3_storage",
      "mode": "managed",
      "type": "aws_s3_bucket_policy",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "bucket": "vtenh",
            "id": "vtenh",
            "policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Allow\",\"Principal\":\"*\",\"Action\":\"s3:GetObject\",\"Resource\":\"arn:aws:s3:::vtenh/*\"}]}"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.s3_storage.aws_s3_bucket.main"
          ]
        }
      ]
    },
    {
      "module": "module.s3_storage_dev",
      "mode": "managed",
      "type": "aws_s3_bucket_policy",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "bucket": "vtenh-dev",
            "id": "vtenh-dev",
            "policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Allow\",\"Principal\":\"*\",\"Action\":\"s3:GetObject\",\"Resource\":\"arn:aws:s3:::vtenh-dev/*\"}]}"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.s3_storage_dev.aws_s3_bucket.main"
          ]
        }
      ]
    },
    {
      "module": "module.s3_storage_staging",
      "mode": "managed",
      "type": "aws_s3_bucket_policy",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "bucket": "vtenh-staging",
            "id": "vtenh-staging",
            "policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Allow\",\"Principal\":\"*\",\"Action\":\"s3:GetObject\",\"Resource\":\"arn:aws:s3:::vtenh-staging/*\"}]}"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.s3_storage_staging.aws_s3_bucket.main"
          ]
        }
      ]
    },
    {
      "module": "module.sg",
      "mode": "managed",
      "type": "aws_security_group",
      "name": "bastion",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:ap-southeast-1:611922433325:security-group/sg-05766d1a5ac538baf",
            "description": "Allow access to SSH from local machine bashion",
            "egress": [],
            "id": "sg-05766d1a5ac538baf",
            "ingress": [
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "SSH from my machine",
                "from_port": 22,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [],
                "self": false,
                "to_port": 22
              }
            ],
            "name": "Bastion server to access SSH20201224125554525300000001",
            "name_prefix": "Bastion server to access SSH",
            "owner_id": "611922433325",
            "revoke_rules_on_delete": false,
            "tags": {
              "Name": "Bashion"
            },
            "timeouts": null,
            "vpc_id": "vpc-0648f6ee3beb5d737"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=",
          "dependencies": [
            "module.vpc.aws_vpc.main"
          ]
        }
      ]
    },
    {
      "module": "module.sg",
      "mode": "managed",
      "type": "aws_security_group",
      "name": "ecs",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:ap-southeast-1:611922433325:security-group/sg-0b8f764c7f3bf5570",
            "description": "Allow access from ABL to ECS",
            "egress": [
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "Allow access from SSH to ECS (in case of EC2)",
                "from_port": 0,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "-1",
                "security_groups": [],
                "self": false,
                "to_port": 0
              }
            ],
            "id": "sg-0b8f764c7f3bf5570",
            "ingress": [
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "",
                "from_port": 22,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [],
                "self": false,
                "to_port": 22
              },
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "Allow access from ALB to ECS",
                "from_port": 0,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "-1",
                "security_groups": [
                  "sg-0a378cac22e6e0e56"
                ],
                "self": false,
                "to_port": 0
              }
            ],
            "name": "Ecs Security group20201224125557439100000008",
            "name_prefix": "Ecs Security group",
            "owner_id": "611922433325",
            "revoke_rules_on_delete": false,
            "tags": {
              "Name": "ECS"
            },
            "timeouts": null,
            "vpc_id": "vpc-0648f6ee3beb5d737"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=",
          "dependencies": [
            "module.sg.aws_security_group.load_balancer",
            "module.vpc.aws_vpc.main"
          ]
        }
      ]
    },
    {
      "module": "module.sg",
      "mode": "managed",
      "type": "aws_security_group",
      "name": "load_balancer",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:ap-southeast-1:611922433325:security-group/sg-0a378cac22e6e0e56",
            "description": "Control access from internet to ALB",
            "egress": [
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "",
                "from_port": 0,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "-1",
                "security_groups": [],
                "self": false,
                "to_port": 0
              }
            ],
            "id": "sg-0a378cac22e6e0e56",
            "ingress": [
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "Anywhere",
                "from_port": 443,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [],
                "self": false,
                "to_port": 443
              },
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "Anywhere",
                "from_port": 80,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [],
                "self": false,
                "to_port": 80
              }
            ],
            "name": "Load banlancer application20201224125554526700000003",
            "name_prefix": "Load banlancer application",
            "owner_id": "611922433325",
            "revoke_rules_on_delete": false,
            "tags": {
              "Name": "Load Balancer"
            },
            "timeouts": null,
            "vpc_id": "vpc-0648f6ee3beb5d737"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=",
          "dependencies": [
            "module.vpc.aws_vpc.main"
          ]
        }
      ]
    },
    {
      "module": "module.sg",
      "mode": "managed",
      "type": "aws_security_group",
      "name": "memcached",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:ap-southeast-1:611922433325:security-group/sg-0c511bc774dd93ad9",
            "description": "Allow to connect to Memchached from bashion and  webserver to connect to",
            "egress": [],
            "id": "sg-0c511bc774dd93ad9",
            "ingress": [
              {
                "cidr_blocks": [
                  "192.168.0.0/16"
                ],
                "description": "Access from bashion host and webserver",
                "from_port": 11211,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [
                  "sg-011936ec6b19c67fd",
                  "sg-05766d1a5ac538baf"
                ],
                "self": false,
                "to_port": 11211
              }
            ],
            "name": "Security group for Memchached20201224125557010100000005",
            "name_prefix": "Security group for Memchached",
            "owner_id": "611922433325",
            "revoke_rules_on_delete": false,
            "tags": {
              "Name": "Memcached"
            },
            "timeouts": null,
            "vpc_id": "vpc-0648f6ee3beb5d737"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=",
          "dependencies": [
            "module.sg.aws_security_group.bastion",
            "module.sg.aws_security_group.webserver",
            "module.vpc.aws_vpc.main"
          ]
        }
      ]
    },
    {
      "module": "module.sg",
      "mode": "managed",
      "type": "aws_security_group",
      "name": "mysql",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:ap-southeast-1:611922433325:security-group/sg-0865cef9fdb508368",
            "description": "Allow to connect to RDS from bashion and  webserver to connect to",
            "egress": [],
            "id": "sg-0865cef9fdb508368",
            "ingress": [
              {
                "cidr_blocks": [
                  "192.168.0.0/16"
                ],
                "description": "Access from bashion host and webserver",
                "from_port": 3306,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [
                  "sg-011936ec6b19c67fd",
                  "sg-05766d1a5ac538baf"
                ],
                "self": false,
                "to_port": 3306
              }
            ],
            "name": "RDS MySql20201224125557010300000007",
            "name_prefix": "RDS MySql",
            "owner_id": "611922433325",
            "revoke_rules_on_delete": false,
            "tags": {
              "Name": "RDS MySQL"
            },
            "timeouts": null,
            "vpc_id": "vpc-0648f6ee3beb5d737"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=",
          "dependencies": [
            "module.sg.aws_security_group.bastion",
            "module.sg.aws_security_group.webserver",
            "module.vpc.aws_vpc.main"
          ]
        }
      ]
    },
    {
      "module": "module.sg",
      "mode": "managed",
      "type": "aws_security_group",
      "name": "postgresql",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:ap-southeast-1:611922433325:security-group/sg-089d9e2f601639325",
            "description": "Allow to connect to RDS from bashion and  webserver to connect to",
            "egress": [],
            "id": "sg-089d9e2f601639325",
            "ingress": [
              {
                "cidr_blocks": [
                  "192.168.0.0/16"
                ],
                "description": "Access from bashion host and webserver",
                "from_port": 5432,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [
                  "sg-011936ec6b19c67fd",
                  "sg-05766d1a5ac538baf"
                ],
                "self": false,
                "to_port": 5432
              }
            ],
            "name": "RDS Postgres20201224125557010100000004",
            "name_prefix": "RDS Postgres",
            "owner_id": "611922433325",
            "revoke_rules_on_delete": false,
            "tags": {
              "Name": "RDS Postgresql"
            },
            "timeouts": null,
            "vpc_id": "vpc-0648f6ee3beb5d737"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=",
          "dependencies": [
            "module.sg.aws_security_group.bastion",
            "module.sg.aws_security_group.webserver",
            "module.vpc.aws_vpc.main"
          ]
        }
      ]
    },
    {
      "module": "module.sg",
      "mode": "managed",
      "type": "aws_security_group",
      "name": "quicksight",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:ap-southeast-1:611922433325:security-group/sg-019feeb2c9fe6b342",
            "description": "Allow postgresql to be accessed by Quicksight",
            "egress": [
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "",
                "from_port": 5432,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [],
                "self": false,
                "to_port": 5432
              }
            ],
            "id": "sg-019feeb2c9fe6b342",
            "ingress": [
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "Quicksight Singapore: ap-southeast-1",
                "from_port": 0,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "-1",
                "security_groups": [],
                "self": false,
                "to_port": 0
              }
            ],
            "name": "AWS Quicksight20210503053754750500000001",
            "name_prefix": "AWS Quicksight",
            "owner_id": "611922433325",
            "revoke_rules_on_delete": false,
            "tags": {
              "Name": "RDS Quicksight"
            },
            "timeouts": null,
            "vpc_id": "vpc-0648f6ee3beb5d737"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=",
          "dependencies": [
            "module.vpc.aws_vpc.main"
          ]
        }
      ]
    },
    {
      "module": "module.sg",
      "mode": "managed",
      "type": "aws_security_group",
      "name": "redis",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:ap-southeast-1:611922433325:security-group/sg-0116e7ae4cad864c7",
            "description": "Allow to connect to Redis from bashion and  webserver to connect to",
            "egress": [],
            "id": "sg-0116e7ae4cad864c7",
            "ingress": [
              {
                "cidr_blocks": [
                  "192.168.0.0/16"
                ],
                "description": "Access from bashion host and webserver",
                "from_port": 6379,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [
                  "sg-011936ec6b19c67fd",
                  "sg-05766d1a5ac538baf"
                ],
                "self": false,
                "to_port": 6379
              }
            ],
            "name": "Security group for Redis20201224125557010100000006",
            "name_prefix": "Security group for Redis",
            "owner_id": "611922433325",
            "revoke_rules_on_delete": false,
            "tags": {
              "Name": "Redis"
            },
            "timeouts": null,
            "vpc_id": "vpc-0648f6ee3beb5d737"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=",
          "dependencies": [
            "module.sg.aws_security_group.bastion",
            "module.sg.aws_security_group.webserver",
            "module.vpc.aws_vpc.main"
          ]
        }
      ]
    },
    {
      "module": "module.sg",
      "mode": "managed",
      "type": "aws_security_group",
      "name": "webserver",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:ap-southeast-1:611922433325:security-group/sg-011936ec6b19c67fd",
            "description": "Webserver for internet access",
            "egress": [],
            "id": "sg-011936ec6b19c67fd",
            "ingress": [
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "Access from internet",
                "from_port": 443,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [],
                "self": false,
                "to_port": 443
              },
              {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "Access from internet",
                "from_port": 80,
                "ipv6_cidr_blocks": [],
                "prefix_list_ids": [],
                "protocol": "tcp",
                "security_groups": [],
                "self": false,
                "to_port": 80
              }
            ],
            "name": "Web server20201224125554525600000002",
            "name_prefix": "Web server",
            "owner_id": "611922433325",
            "revoke_rules_on_delete": false,
            "tags": {
              "Name": "Webserver"
            },
            "timeouts": null,
            "vpc_id": "vpc-0648f6ee3beb5d737"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=",
          "dependencies": [
            "module.vpc.aws_vpc.main"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_ssm_parameter",
      "name": "ssh_public_key",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "allowed_pattern": "",
            "arn": "arn:aws:ssm:ap-southeast-1:611922433325:parameter/ssh_public_key",
            "data_type": "text",
            "description": "",
            "id": "ssh_public_key",
            "key_id": "alias/aws/ssm",
            "name": "ssh_public_key",
            "overwrite": null,
            "tags": {},
            "tier": "Standard",
            "type": "SecureString",
            "value": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQD6cv4pc3758N808u9DfPR+gYF0y+tlMi41YtNHrESHpfk1MVptXY/TqS3d3Wad+Sn+jlmy80iTi6Xv6rndhnjVGfeZBGXml5UVgba55c9R9O33Ii2hrDwlcB9ZNl3uFN1zlCNfe8M0/eyERzP0TqVFiGn9X7NreGbGPV55aEUVsK7QdL3A5WfKRVSxerV/JcYgrKnkgFU/eUCYmUsmRa0++sfJS2H8w/IX+FPNBjy50o9TaPxqDIpKx2tpjT7JSD/OmyomVQ/7AxdgDZ/9TakfRjYAh/cDkJi/Xs9awt3+Umzk33TErB7BQsUi2HNRriRlS6z6em5aOGHooaJp9zqj ilab@Sokhas-MacBook-Pro.local\n",
            "version": 1
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.vpc",
      "mode": "managed",
      "type": "aws_subnet",
      "name": "privates",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:ap-southeast-1:611922433325:subnet/subnet-0aea1f2e169b9f30c",
            "assign_ipv6_address_on_creation": false,
            "availability_zone": "ap-southeast-1a",
            "availability_zone_id": "apse1-az2",
            "cidr_block": "192.168.101.0/24",
            "id": "subnet-0aea1f2e169b9f30c",
            "ipv6_cidr_block": "",
            "ipv6_cidr_block_association_id": "",
            "map_public_ip_on_launch": false,
            "outpost_arn": "",
            "owner_id": "611922433325",
            "tags": {
              "Name": "VTENH Private Subnet 1"
            },
            "timeouts": null,
            "vpc_id": "vpc-0648f6ee3beb5d737"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "module.vpc.aws_vpc.main",
            "module.vpc.data.aws_availability_zones.available"
          ]
        },
        {
          "index_key": 1,
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:ap-southeast-1:611922433325:subnet/subnet-022f6d81a2f575246",
            "assign_ipv6_address_on_creation": false,
            "availability_zone": "ap-southeast-1b",
            "availability_zone_id": "apse1-az1",
            "cidr_block": "192.168.102.0/24",
            "id": "subnet-022f6d81a2f575246",
            "ipv6_cidr_block": "",
            "ipv6_cidr_block_association_id": "",
            "map_public_ip_on_launch": false,
            "outpost_arn": "",
            "owner_id": "611922433325",
            "tags": {
              "Name": "VTENH Private Subnet 2"
            },
            "timeouts": null,
            "vpc_id": "vpc-0648f6ee3beb5d737"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "module.vpc.aws_vpc.main",
            "module.vpc.data.aws_availability_zones.available"
          ]
        },
        {
          "index_key": 2,
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:ap-southeast-1:611922433325:subnet/subnet-00d27e777eecc58cf",
            "assign_ipv6_address_on_creation": false,
            "availability_zone": "ap-southeast-1c",
            "availability_zone_id": "apse1-az3",
            "cidr_block": "192.168.103.0/24",
            "id": "subnet-00d27e777eecc58cf",
            "ipv6_cidr_block": "",
            "ipv6_cidr_block_association_id": "",
            "map_public_ip_on_launch": false,
            "outpost_arn": "",
            "owner_id": "611922433325",
            "tags": {
              "Name": "VTENH Private Subnet 3"
            },
            "timeouts": null,
            "vpc_id": "vpc-0648f6ee3beb5d737"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "module.vpc.aws_vpc.main",
            "module.vpc.data.aws_availability_zones.available"
          ]
        }
      ]
    },
    {
      "module": "module.vpc",
      "mode": "managed",
      "type": "aws_subnet",
      "name": "publics",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:ap-southeast-1:611922433325:subnet/subnet-0537278cba0fe9a9b",
            "assign_ipv6_address_on_creation": false,
            "availability_zone": "ap-southeast-1a",
            "availability_zone_id": "apse1-az2",
            "cidr_block": "192.168.1.0/24",
            "id": "subnet-0537278cba0fe9a9b",
            "ipv6_cidr_block": "",
            "ipv6_cidr_block_association_id": "",
            "map_public_ip_on_launch": false,
            "outpost_arn": "",
            "owner_id": "611922433325",
            "tags": {
              "Name": "VTENH Public Subnet 1"
            },
            "timeouts": null,
            "vpc_id": "vpc-0648f6ee3beb5d737"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "module.vpc.aws_vpc.main",
            "module.vpc.data.aws_availability_zones.available"
          ]
        },
        {
          "index_key": 1,
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:ap-southeast-1:611922433325:subnet/subnet-0b390072549da094e",
            "assign_ipv6_address_on_creation": false,
            "availability_zone": "ap-southeast-1b",
            "availability_zone_id": "apse1-az1",
            "cidr_block": "192.168.2.0/24",
            "id": "subnet-0b390072549da094e",
            "ipv6_cidr_block": "",
            "ipv6_cidr_block_association_id": "",
            "map_public_ip_on_launch": false,
            "outpost_arn": "",
            "owner_id": "611922433325",
            "tags": {
              "Name": "VTENH Public Subnet 2"
            },
            "timeouts": null,
            "vpc_id": "vpc-0648f6ee3beb5d737"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "module.vpc.aws_vpc.main",
            "module.vpc.data.aws_availability_zones.available"
          ]
        },
        {
          "index_key": 2,
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:ap-southeast-1:611922433325:subnet/subnet-07f858c291d262ae0",
            "assign_ipv6_address_on_creation": false,
            "availability_zone": "ap-southeast-1c",
            "availability_zone_id": "apse1-az3",
            "cidr_block": "192.168.3.0/24",
            "id": "subnet-07f858c291d262ae0",
            "ipv6_cidr_block": "",
            "ipv6_cidr_block_association_id": "",
            "map_public_ip_on_launch": false,
            "outpost_arn": "",
            "owner_id": "611922433325",
            "tags": {
              "Name": "VTENH Public Subnet 3"
            },
            "timeouts": null,
            "vpc_id": "vpc-0648f6ee3beb5d737"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "module.vpc.aws_vpc.main",
            "module.vpc.data.aws_availability_zones.available"
          ]
        }
      ]
    },
    {
      "module": "module.vpc",
      "mode": "managed",
      "type": "aws_vpc",
      "name": "main",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:ap-southeast-1:611922433325:vpc/vpc-0648f6ee3beb5d737",
            "assign_generated_ipv6_cidr_block": false,
            "cidr_block": "192.168.0.0/16",
            "default_network_acl_id": "acl-09e0c343a10e45097",
            "default_route_table_id": "rtb-0616d7f7f18996365",
            "default_security_group_id": "sg-06186e909ed1a0cc0",
            "dhcp_options_id": "dopt-1ef31878",
            "enable_classiclink": false,
            "enable_classiclink_dns_support": false,
            "enable_dns_hostnames": false,
            "enable_dns_support": true,
            "id": "vpc-0648f6ee3beb5d737",
            "instance_tenancy": "default",
            "ipv6_association_id": "",
            "ipv6_cidr_block": "",
            "main_route_table_id": "rtb-0616d7f7f18996365",
            "owner_id": "611922433325",
            "tags": {
              "AutoManaged": "true",
              "Generator": "VTENH",
              "Location": "ap-southeast-1",
              "Name": "VTENH"
            }
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="
        }
      ]
    },
    {
      "module": "module.local_exec_migration",
      "mode": "managed",
      "type": "null_resource",
      "name": "ecs-run-task",
      "provider": "provider[\"registry.terraform.io/hashicorp/null\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "4913122211476271256",
            "triggers": null
          },
          "private": "bnVsbA==",
          "dependencies": [
            "data.template_file.db_migration",
            "module.ecs_fargate.aws_ecs_cluster.main",
            "module.iam_ecs.aws_iam_role.ecs_task_assume_role",
            "module.iam_ecs.aws_iam_role.ecs_task_exec_role",
            "module.local_exec_migration.aws_ecs_task_definition.main",
            "module.sg.aws_security_group.ecs",
            "module.vpc.aws_subnet.publics",
            "module.vpc.data.aws_availability_zones.available"
          ]
        }
      ]
    }
  ]
}
